<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.37" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://961099916.github.io/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/mysql.html"><meta property="og:site_name" content="ä¹å¤çš„åšå®¢"><meta property="og:title" content="MySQL"><meta property="og:description" content="å®‰è£…ä¸é…ç½® Windows å®‰è£… Ubuntu å®‰è£… Centos å®‰è£… å®‰è£…åŒ…å®‰è£… Docker å®‰è£… åŸºç¡€è¯­æ³• å‡½æ•° å­—ç¬¦ä¸²å‡½æ•° cancat : å½“æ‹¼æ¥çš„å­—æ®µæœ‰ null çš„æ—¶å€™ï¼Œç»“æœéƒ½ä¸º null left(str,x) : è¿”å›ä» 0 å¼€å§‹çš„ x ä¸ªå­—ç¬¦ï¼Œå½“ x ä¸º nullï¼Œè¿”å› null æ•°å€¼å‡½æ•° æ—¶é—´å’Œæ—¥æœŸå‡½æ•° CURDATE() : ..."><meta property="og:type" content="article"><meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjA0OTI0MTI5LnBuZw?x-oss-process=image/format,png#alt=%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-06-21T16:16:31.000Z"><meta property="article:author" content="ä¹å¤"><meta property="article:modified_time" content="2024-06-21T16:16:31.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"MySQL","image":["https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjA0OTI0MTI5LnBuZw?x-oss-process=image/format,png#alt=%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0","https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE0MzA3ODAwLnBuZw?x-oss-process=image/format,png#alt=%E6%95%B0%E5%80%BC%E5%87%BD%E6%95%B0","https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE0NDA4NDQucG5n?x-oss-process=image/format,png#alt=%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0","https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE1MzE3NTM4LnBuZw?x-oss-process=image/format,png#alt=DATE_FORMART","https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE1NDAxMjQ3LnBuZw?x-oss-process=image/format,png#alt=DATE_FORMART","https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE1NDM3MTY0LnBuZw?x-oss-process=image/format,png#alt=","https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE1NTI3NTM1LnBuZw?x-oss-process=image/format,png#alt=%E6%B5%81%E7%A8%8B%E5%87%BD%E6%95%B0","https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE1NjMyMjk2LnBuZw?x-oss-process=image/format,png#alt=%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0","https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI4MDkyMTE5MzU4LnBuZw?x-oss-process=image/format,png#alt=%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E5%AF%B9%E6%AF%94","https://img-blog.csdnimg.cn/img_convert/ed8db85b70c443324b4647fbed9adedd.png#alt=","https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvMjAyMDA1MDgxNjQwMjMucG5n?x-oss-process=image/format,png#alt=20200508164023.png","https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvMjAyMDA1MDgyMjU5NTcucG5n?x-oss-process=image/format,png#alt=20200508225957.png"],"dateModified":"2024-06-21T16:16:31.000Z","author":[{"@type":"Person","name":"ä¹å¤","url":"https://blog.jiuxialb.top/"}]}</script><title>MySQL | ä¹å¤çš„åšå®¢</title><meta name="description" content="å®‰è£…ä¸é…ç½® Windows å®‰è£… Ubuntu å®‰è£… Centos å®‰è£… å®‰è£…åŒ…å®‰è£… Docker å®‰è£… åŸºç¡€è¯­æ³• å‡½æ•° å­—ç¬¦ä¸²å‡½æ•° cancat : å½“æ‹¼æ¥çš„å­—æ®µæœ‰ null çš„æ—¶å€™ï¼Œç»“æœéƒ½ä¸º null left(str,x) : è¿”å›ä» 0 å¼€å§‹çš„ x ä¸ªå­—ç¬¦ï¼Œå½“ x ä¸º nullï¼Œè¿”å› null æ•°å€¼å‡½æ•° æ—¶é—´å’Œæ—¥æœŸå‡½æ•° CURDATE() : ...">
    <link rel="preload" href="/assets/style-C6nJ-3nx.css" as="style"><link rel="stylesheet" href="/assets/style-C6nJ-3nx.css">
    <link rel="modulepreload" href="/assets/app-CVAlhocu.js"><link rel="modulepreload" href="/assets/mysql.html-BCh3lF_g.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-BVA4eBA7.js" as="script"><link rel="prefetch" href="/assets/index.html-DECHevMD.js" as="script"><link rel="prefetch" href="/assets/ç®€å†.html-bkh2i9KZ.js" as="script"><link rel="prefetch" href="/assets/index.html-Cdpetwye.js" as="script"><link rel="prefetch" href="/assets/äº‘å¹³å°æ­å»º.html-Blk6qJ2b.js" as="script"><link rel="prefetch" href="/assets/æ–°ä¹‹ç§‘æŠ€ä¾›åº”é“¾å¹³å°.html-DbTb8R5Y.js" as="script"><link rel="prefetch" href="/assets/æ–°å†ç”Ÿäº¤æ˜“å¹³å°.html-kWBtn5Gr.js" as="script"><link rel="prefetch" href="/assets/index.html-Dp3xvGvD.js" as="script"><link rel="prefetch" href="/assets/ç¿»è¯‘ï¼šæ¶æ„è“å›¾â€”è½¯ä»¶æ¶æ„çš„4_1è§†å›¾æ¨¡å‹ï¼ˆä¸­è‹±æ–‡å¯¹ç…§ï¼‰ - çŸ¥ä¹.html-DOAAJ4uG.js" as="script"><link rel="prefetch" href="/assets/å¼±è½¬å¼º.html-Cu9f-FYg.js" as="script"><link rel="prefetch" href="/assets/æ€»ç»“.html-C8dDIKAv.js" as="script"><link rel="prefetch" href="/assets/çœ‹ç›˜.html-Cwxh1f3y.js" as="script"><link rel="prefetch" href="/assets/JVM.html-AtdsCFiQ.js" as="script"><link rel="prefetch" href="/assets/Java IO.html-CARGngqZ.js" as="script"><link rel="prefetch" href="/assets/Java8.html-BxSBCySa.js" as="script"><link rel="prefetch" href="/assets/JavaåŸºç¡€.html-BiykDx92.js" as="script"><link rel="prefetch" href="/assets/Javaå¤šçº¿ç¨‹å’Œå¹¶å‘.html-DahsYmGK.js" as="script"><link rel="prefetch" href="/assets/Javaé›†åˆæ¡†æ¶.html-o3V0LWQc.js" as="script"><link rel="prefetch" href="/assets/cglib.html-ABn71YzK.js" as="script"><link rel="prefetch" href="/assets/string.html-YdqBy_VW.js" as="script"><link rel="prefetch" href="/assets/Java åŸºç¡€é¢è¯•é¢˜.html-DNGgrRZp.js" as="script"><link rel="prefetch" href="/assets/Nacos.html-DsU3pabl.js" as="script"><link rel="prefetch" href="/assets/RocketMQ.html-C8yRmHQ8.js" as="script"><link rel="prefetch" href="/assets/Tomcat.html-DohAzRbQ.js" as="script"><link rel="prefetch" href="/assets/XXL-JOB.html-B-xwfBOz.js" as="script"><link rel="prefetch" href="/assets/Elasticsearch.html-ae2y1K6e.js" as="script"><link rel="prefetch" href="/assets/MongoDB.html-B9-7StWQ.js" as="script"><link rel="prefetch" href="/assets/Redis.html-DV_iy154.js" as="script"><link rel="prefetch" href="/assets/01-æ€»ä½“æ¶æ„.html-Bmwm2hIu.js" as="script"><link rel="prefetch" href="/assets/02-æµç¨‹ç®€è§£.html-SFy8DLU1.js" as="script"><link rel="prefetch" href="/assets/03-åŒ…è¯¦è§£.html-Pr0c6YNq.js" as="script"><link rel="prefetch" href="/assets/04-æµç¨‹è¯¦è§£.html-DZhA0Ce2.js" as="script"><link rel="prefetch" href="/assets/05-æ’ä»¶æœºåˆ¶.html-AVOBrCGB.js" as="script"><link rel="prefetch" href="/assets/06-ç¼“å­˜æœºåˆ¶.html-BzJ40_sQ.js" as="script"><link rel="prefetch" href="/assets/01-Spring æºç ç¯å¢ƒæ­å»º.html-CkJGELO5.js" as="script"><link rel="prefetch" href="/assets/02-Spring æ•´ä½“æ¶æ„.html-BwwH23q3.js" as="script"><link rel="prefetch" href="/assets/03-Springåˆå§‹åŒ–æµç¨‹.html-CV_gGsJp.js" as="script"><link rel="prefetch" href="/assets/2024-06-22.html-Cuh3zR9B.js" as="script"><link rel="prefetch" href="/assets/2024-02-27.html-7DiK3WY9.js" as="script"><link rel="prefetch" href="/assets/2024-03-22.html-BxYhLLLd.js" as="script"><link rel="prefetch" href="/assets/2024-03-25.html-CpaA12Yx.js" as="script"><link rel="prefetch" href="/assets/2024-03-26.html-DmkwR-nk.js" as="script"><link rel="prefetch" href="/assets/2024-04-21.html-DeU6oJ62.js" as="script"><link rel="prefetch" href="/assets/2024-04-22.html-3llaDyKb.js" as="script"><link rel="prefetch" href="/assets/2024-04-23.html-C_QCUB84.js" as="script"><link rel="prefetch" href="/assets/2024-04-24.html-DrJ2PB7K.js" as="script"><link rel="prefetch" href="/assets/2024-04-25.html-s787zFYa.js" as="script"><link rel="prefetch" href="/assets/æ·å®‰é«˜ç§‘.html-CN0IDb4I.js" as="script"><link rel="prefetch" href="/assets/åŒ—äº¬ç‚’å®¶.html-C554oTrz.js" as="script"><link rel="prefetch" href="/assets/æ¶…æ§ƒé‡å‡.html-DAUlwrrJ.js" as="script"><link rel="prefetch" href="/assets/èŒä¸šç‚’æ‰‹.html-Cdyq8Lnj.js" as="script"><link rel="prefetch" href="/assets/ä½ç©ºç»æµ.html-Dw1OzGr4.js" as="script"><link rel="prefetch" href="/assets/å¸¸è§æ’åºç®—æ³•.html-Cgmeb4aw.js" as="script"><link rel="prefetch" href="/assets/å¸¸è§æœç´¢ç®—æ³•.html-CNEOKoG4.js" as="script"><link rel="prefetch" href="/assets/åŸºæœ¬æ•°æ®ç»“æ„.html-09HIR5lv.js" as="script"><link rel="prefetch" href="/assets/ç®—æ³•æ€æƒ³.html-DbfLnYbj.js" as="script"><link rel="prefetch" href="/assets/é¢†åŸŸç®—æ³•.html-qkfGutnH.js" as="script"><link rel="prefetch" href="/assets/ã€ŠRocketMQæŠ€æœ¯å†…å¹•ã€‹.html-DJbdQtiW.js" as="script"><link rel="prefetch" href="/assets/ã€Šä»é›¶å¼€å§‹å­¦æ¶æ„ï¼šç…§ç€åšï¼Œä½ ä¹Ÿèƒ½æˆä¸ºæ¶æ„å¸ˆã€‹.html-eZjXcRT3.js" as="script"><link rel="prefetch" href="/assets/ã€Šæƒ…ç»ªé¾™å¤´æˆ˜æ³•ã€‹.html-BfNHVw4v.js" as="script"><link rel="prefetch" href="/assets/Docker.html-xq5VUWSI.js" as="script"><link rel="prefetch" href="/assets/Istio.html-CuDZMrFa.js" as="script"><link rel="prefetch" href="/assets/Kubernetes.html-VxAJZ-4x.js" as="script"><link rel="prefetch" href="/assets/Kubernetesé«˜å¯ç”¨é›†ç¾¤å®‰è£….html-DjB8MLKC.js" as="script"><link rel="prefetch" href="/assets/Linux.html-CQ-nHAzl.js" as="script"><link rel="prefetch" href="/assets/Unix IOæ¨¡å‹.html-CZFubRc2.js" as="script"><link rel="prefetch" href="/assets/æ“ä½œç³»ç»Ÿ XV6.html-CQaLcgys.js" as="script"><link rel="prefetch" href="/assets/è®¾è®¡æ¨¡å¼.html-_Zc73W8d.js" as="script"><link rel="prefetch" href="/assets/404.html-BddM2xt0.js" as="script"><link rel="prefetch" href="/assets/index.html-DrCp3RnK.js" as="script"><link rel="prefetch" href="/assets/index.html-Wf6BWvrk.js" as="script"><link rel="prefetch" href="/assets/index.html-zrb-Ant2.js" as="script"><link rel="prefetch" href="/assets/index.html-gEeYnMHf.js" as="script"><link rel="prefetch" href="/assets/index.html-CDSG1GXm.js" as="script"><link rel="prefetch" href="/assets/index.html-BMeN2Caf.js" as="script"><link rel="prefetch" href="/assets/index.html-CsceVXBg.js" as="script"><link rel="prefetch" href="/assets/index.html-CY_s01Bp.js" as="script"><link rel="prefetch" href="/assets/index.html-V5ayltml.js" as="script"><link rel="prefetch" href="/assets/index.html-D45zU345.js" as="script"><link rel="prefetch" href="/assets/index.html-BMx-huKQ.js" as="script"><link rel="prefetch" href="/assets/index.html-B_blSjms.js" as="script"><link rel="prefetch" href="/assets/index.html-BXZfhIUB.js" as="script"><link rel="prefetch" href="/assets/index.html-BZWURlLD.js" as="script"><link rel="prefetch" href="/assets/index.html-QAHFKA2z.js" as="script"><link rel="prefetch" href="/assets/index.html-BOuJslTi.js" as="script"><link rel="prefetch" href="/assets/index.html-Df1EstQk.js" as="script"><link rel="prefetch" href="/assets/index.html-CI-CsoVL.js" as="script"><link rel="prefetch" href="/assets/index.html-DnWfW-14.js" as="script"><link rel="prefetch" href="/assets/index.html-Cz-xSYri.js" as="script"><link rel="prefetch" href="/assets/index.html-BQA3Y5Yx.js" as="script"><link rel="prefetch" href="/assets/index.html-Bjnz2oEW.js" as="script"><link rel="prefetch" href="/assets/index.html-Clt8Fq2T.js" as="script"><link rel="prefetch" href="/assets/index.html-CR6TOEP7.js" as="script"><link rel="prefetch" href="/assets/index.html-BOC3AhIi.js" as="script"><link rel="prefetch" href="/assets/index.html-CR2YRD01.js" as="script"><link rel="prefetch" href="/assets/index.html-BFmnG90B.js" as="script"><link rel="prefetch" href="/assets/index.html-D98hfh9k.js" as="script"><link rel="prefetch" href="/assets/index.html-B9jOm5cU.js" as="script"><link rel="prefetch" href="/assets/index.html-6rt7ZEIO.js" as="script"><link rel="prefetch" href="/assets/index.html-eG0hViOq.js" as="script"><link rel="prefetch" href="/assets/index.html-CQl85pLV.js" as="script"><link rel="prefetch" href="/assets/index.html-CjI1VjCL.js" as="script"><link rel="prefetch" href="/assets/index.html-CDwCzlC5.js" as="script"><link rel="prefetch" href="/assets/index.html-OKbm3rqy.js" as="script"><link rel="prefetch" href="/assets/index.html-DzL-8JYV.js" as="script"><link rel="prefetch" href="/assets/index.html-EayxSCqJ.js" as="script"><link rel="prefetch" href="/assets/index.html-BGFoKmez.js" as="script"><link rel="prefetch" href="/assets/index.html-D9rqoZ3a.js" as="script"><link rel="prefetch" href="/assets/index.html-C2EJxMh_.js" as="script"><link rel="prefetch" href="/assets/index.html-CLHzngvK.js" as="script"><link rel="prefetch" href="/assets/index.html-xaRgQCNC.js" as="script"><link rel="prefetch" href="/assets/index.html-CP4hTcvb.js" as="script"><link rel="prefetch" href="/assets/index.html-CNG1aqcS.js" as="script"><link rel="prefetch" href="/assets/index.html-DhwQCZGI.js" as="script"><link rel="prefetch" href="/assets/index.html-CnIXiiDD.js" as="script"><link rel="prefetch" href="/assets/index.html-LMeDR8oR.js" as="script"><link rel="prefetch" href="/assets/index.html-C3HHvJiX.js" as="script"><link rel="prefetch" href="/assets/index.html-CWBWmnfm.js" as="script"><link rel="prefetch" href="/assets/index.html-BOVfIvQn.js" as="script"><link rel="prefetch" href="/assets/index.html-DWMWsIML.js" as="script"><link rel="prefetch" href="/assets/index.html-CQZV3-Cg.js" as="script"><link rel="prefetch" href="/assets/index.html-BrMPnb-q.js" as="script"><link rel="prefetch" href="/assets/index.html-BUzLXBwx.js" as="script"><link rel="prefetch" href="/assets/index.html-xblUN22I.js" as="script"><link rel="prefetch" href="/assets/index.html-BQxaX50l.js" as="script"><link rel="prefetch" href="/assets/waline-meta-l0sNRNKZ.js" as="script"><link rel="prefetch" href="/assets/component-C76x2Oy8.js" as="script"><link rel="prefetch" href="/assets/index-gU44BDzU.js" as="script"><link rel="prefetch" href="/assets/flowchart-966sEcGG.js" as="script"><link rel="prefetch" href="/assets/index-Si1iwrW4.js" as="script"><link rel="prefetch" href="/assets/index-DRWmbcXV.js" as="script"><link rel="prefetch" href="/assets/index-CVY756xS.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-DP5dBSnf.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-CYbl4_PU.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-BG2Xu2Hd.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-C34tS8ua.js" as="script"><link rel="prefetch" href="/assets/math.esm-DN7Rh_EM.js" as="script"><link rel="prefetch" href="/assets/search.esm-DuBqnxcF.js" as="script"><link rel="prefetch" href="/assets/notes.esm-DcquA2oP.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-Ctj_eavO.js" as="script"><link rel="prefetch" href="/assets/vue-repl-CMzmxqdk.js" as="script"><link rel="prefetch" href="/assets/codemirror-editor-CMDNUSUN.js" as="script"><link rel="prefetch" href="/assets/SandPack-CVJS-7KR.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script"><link rel="prefetch" href="/assets/SearchResult-iDS5PWcv.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.png" alt><!----><span class="vp-site-name hide-in-pad">ä¹å¤çš„åšå®¢</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/" aria-label="ä¸»é¡µ"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/java/" aria-label="Java"><span class="font-icon icon fa-fw fa-sm fas fa-devicon-plain--java-wordmark" style=""></span>Java<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/%E6%A1%86%E6%9E%B6/" aria-label="æ¡†æ¶"><span class="font-icon icon fa-fw fa-sm fas fa-laptop-code" style=""></span>æ¡†æ¶<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link active" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/" aria-label="æ•°æ®åº“"><span class="font-icon icon fa-fw fa-sm fas fa-database" style=""></span>æ•°æ®åº“<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/%E4%B8%AD%E9%97%B4%E4%BB%B6/" aria-label="ä¸­é—´ä»¶"><span class="font-icon icon fa-fw fa-sm fas fa-bxs--component" style=""></span>ä¸­é—´ä»¶<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/%E7%AE%97%E6%B3%95/" aria-label="ç®—æ³•"><span class="font-icon icon fa-fw fa-sm fas fa-algorithms" style=""></span>ç®—æ³•<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/%E8%BF%90%E7%BB%B4/" aria-label="è¿ç»´"><span class="font-icon icon fa-fw fa-sm fas fa-carbon--operations-record" style=""></span>è¿ç»´<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/%E9%80%9A%E7%94%A8/" aria-label="é€šç”¨"><span class="font-icon icon fa-fw fa-sm fas fa-cics-program" style=""></span>é€šç”¨<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/%E6%9E%B6%E6%9E%84/" aria-label="æ¶æ„"><span class="font-icon icon fa-fw fa-sm fas fa-reference-architecture" style=""></span>æ¶æ„<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/%E5%AE%9E%E8%B7%B5/" aria-label="å®è·µ"><span class="font-icon icon fa-fw fa-sm fas fa-mask-happly-bold" style=""></span>å®è·µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/%E8%AF%BB%E4%B9%A6/" aria-label="è¯»ä¹¦"><span class="font-icon icon fa-fw fa-sm fas fa-iconoir--book" style=""></span>è¯»ä¹¦<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/%E6%AF%8F%E6%97%A5%E5%A4%8D%E7%9B%98/" aria-label="æ¯æ—¥å¤ç›˜"><span class="font-icon icon fa-fw fa-sm fas fa-mdi--calendar-day" style=""></span>æ¯æ—¥å¤ç›˜<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/%E5%85%B6%E4%BB%96/%E7%AE%80%E5%8E%86.html" aria-label="æˆ‘çš„ç®€å†"><span class="font-icon icon fa-fw fa-sm fas fa-mdi--calendar-day" style=""></span>æˆ‘çš„ç®€å†<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/961099916/961099916.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><span class="font-icon icon fa-fw fa-sm fas fa-database" style=""></span><span class="vp-sidebar-title">mysql</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/mysql.html" aria-label="MySQL"><!---->MySQL<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><span class="font-icon icon fa-fw fa-sm fas fa-database" style=""></span><span class="vp-sidebar-title">redis</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/redis/Redis.html" aria-label="Redis"><!---->Redis<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><span class="font-icon icon fa-fw fa-sm fas fa-database" style=""></span><span class="vp-sidebar-title">elasticsearch</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/elasticsearch/Elasticsearch.html" aria-label="Elasticsearch"><!---->Elasticsearch<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><span class="font-icon icon fa-fw fa-sm fas fa-database" style=""></span><span class="vp-sidebar-title">mongodb</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/mongodb/MongoDB.html" aria-label="MongoDB"><!---->MongoDB<!----></a></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->MySQL</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://blog.jiuxialb.top/" target="_blank" rel="noopener noreferrer">ä¹å¤</a></span><span property="author" content="ä¹å¤"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-06-15T10:51:59.000Z"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="vp-pageview waline-pageview-count" data-path="/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/mysql.html" data-page-key="/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/mysql.html">...</span></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 32 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT32M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!--[--><!----><!--]--><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å®‰è£…ä¸é…ç½®">å®‰è£…ä¸é…ç½®</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#windows-å®‰è£…">Windows å®‰è£…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ubuntu-å®‰è£…">Ubuntu å®‰è£…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#centos-å®‰è£…">Centos å®‰è£…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®‰è£…åŒ…å®‰è£…">å®‰è£…åŒ…å®‰è£…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#docker-å®‰è£…">Docker å®‰è£…</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#åŸºç¡€è¯­æ³•">åŸºç¡€è¯­æ³•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å‡½æ•°">å‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å­—ç¬¦ä¸²å‡½æ•°">å­—ç¬¦ä¸²å‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ•°å€¼å‡½æ•°">æ•°å€¼å‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ—¶é—´å’Œæ—¥æœŸå‡½æ•°">æ—¶é—´å’Œæ—¥æœŸå‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æµç¨‹å‡½æ•°">æµç¨‹å‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å…¶ä»–å‡½æ•°">å…¶ä»–å‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#mysql-50-é¢˜">MySQL 50 é¢˜</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å­¦ç”Ÿè¡¨">å­¦ç”Ÿè¡¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç§‘ç›®è¡¨">ç§‘ç›®è¡¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ•™å¸ˆè¡¨">æ•™å¸ˆè¡¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æˆç»©è¡¨">æˆç»©è¡¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é¢˜ç›®">é¢˜ç›®</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å­˜å‚¨å¼•æ“">å­˜å‚¨å¼•æ“</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å‚¨å­˜å¼•æ“çš„å¯¹æ¯”">å‚¨å­˜å¼•æ“çš„å¯¹æ¯”</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#myisam-å­˜å‚¨å¼•æ“">MyISAM å­˜å‚¨å¼•æ“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#innodb-å­˜å‚¨å¼•æ“">InnoDB å­˜å‚¨å¼•æ“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#memory-å­˜å‚¨å¼•æ“">MEMORY å­˜å‚¨å¼•æ“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#merge-å­˜å‚¨å¼•æ“">MERGE å­˜å‚¨å¼•æ“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å­˜å‚¨å¼•æ“çš„é€‰æ‹©">å­˜å‚¨å¼•æ“çš„é€‰æ‹©</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#è§¦å‘å™¨">è§¦å‘å™¨</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è§¦å‘å™¨åˆ›å»º">è§¦å‘å™¨åˆ›å»º</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åˆ é™¤è§¦å‘å™¨">åˆ é™¤è§¦å‘å™¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æŸ¥çœ‹è§¦å‘å™¨">æŸ¥çœ‹è§¦å‘å™¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä½¿ç”¨è§„åˆ™">ä½¿ç”¨è§„åˆ™</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°">å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å‡½æ•°-1">å‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å­˜å‚¨è¿‡ç¨‹">å­˜å‚¨è¿‡ç¨‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç´¢å¼•">ç´¢å¼•</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åˆ›å»ºç´¢å¼•">åˆ›å»ºç´¢å¼•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç´¢å¼•æµ‹è¯•">ç´¢å¼•æµ‹è¯•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è®¾è®¡ç´¢å¼•çš„åŸåˆ™">è®¾è®¡ç´¢å¼•çš„åŸåˆ™</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#btree-ç´¢å¼•ä¸-hash-ç´¢å¼•">BTREE ç´¢å¼•ä¸ HASH ç´¢å¼•</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é”">é”</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç±»å‹">ç±»å‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#myisam-è¡¨é”">MyISAM è¡¨é”</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#innodb-é”">InnoDB é”</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¼˜åŒ–">ä¼˜åŒ–</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä¼˜åŒ–-sql-çš„ä¸€èˆ¬æ­¥éª¤">ä¼˜åŒ– SQL çš„ä¸€èˆ¬æ­¥éª¤</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç´¢å¼•é—®é¢˜">ç´¢å¼•é—®é¢˜</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç®€å•çš„ä¼˜åŒ–æ–¹æ³•">ç®€å•çš„ä¼˜åŒ–æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¸¸ç”¨-sql-çš„ä¼˜åŒ–">å¸¸ç”¨ SQL çš„ä¼˜åŒ–</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h2 id="å®‰è£…ä¸é…ç½®" tabindex="-1"><a class="header-anchor" href="#å®‰è£…ä¸é…ç½®"><span>å®‰è£…ä¸é…ç½®</span></a></h2><h3 id="windows-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#windows-å®‰è£…"><span>Windows å®‰è£…</span></a></h3><h3 id="ubuntu-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#ubuntu-å®‰è£…"><span>Ubuntu å®‰è£…</span></a></h3><h3 id="centos-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#centos-å®‰è£…"><span>Centos å®‰è£…</span></a></h3><h3 id="å®‰è£…åŒ…å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…åŒ…å®‰è£…"><span>å®‰è£…åŒ…å®‰è£…</span></a></h3><h3 id="docker-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#docker-å®‰è£…"><span>Docker å®‰è£…</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull mysql:5.7
<span class="token function">docker</span> run <span class="token parameter variable">--restart</span><span class="token operator">=</span>unless-stopped <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">--name</span> common-mysql <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>root mysql:5.7 <span class="token parameter variable">--lower_case_table_names</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åŸºç¡€è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€è¯­æ³•"><span>åŸºç¡€è¯­æ³•</span></a></h2><h2 id="å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°"><span>å‡½æ•°</span></a></h2><h2 id="å­—ç¬¦ä¸²å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²å‡½æ•°"><span>å­—ç¬¦ä¸²å‡½æ•°</span></a></h2><figure><img src="https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjA0OTI0MTI5LnBuZw?x-oss-process=image/format,png#alt=å­—ç¬¦ä¸²å‡½æ•°" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>cancat : å½“æ‹¼æ¥çš„å­—æ®µæœ‰ null çš„æ—¶å€™ï¼Œç»“æœéƒ½ä¸º null</p></blockquote><blockquote><p>left(str,x) : è¿”å›ä» 0 å¼€å§‹çš„ x ä¸ªå­—ç¬¦ï¼Œå½“ x ä¸º nullï¼Œè¿”å› null</p></blockquote><h2 id="æ•°å€¼å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æ•°å€¼å‡½æ•°"><span>æ•°å€¼å‡½æ•°</span></a></h2><figure><img src="https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE0MzA3ODAwLnBuZw?x-oss-process=image/format,png#alt=æ•°å€¼å‡½æ•°" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="æ—¶é—´å’Œæ—¥æœŸå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æ—¶é—´å’Œæ—¥æœŸå‡½æ•°"><span>æ—¶é—´å’Œæ—¥æœŸå‡½æ•°</span></a></h2><figure><img src="https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE0NDA4NDQucG5n?x-oss-process=image/format,png#alt=æ—¶é—´å’Œæ—¥æœŸå‡½æ•°" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>CURDATE() : è¿”å›å½“å‰æ—¥æœŸï¼ŒåªåŒ…å«å¹´æœˆæ—¥ 2020-04-27</p></blockquote><blockquote><p>CURTIME() : è¿”å›å½“å‰æ—¥æœŸï¼ŒåªåŒ…å«æ—¶åˆ†ç§’ 12ï¼š12ï¼š12</p></blockquote><blockquote><p>NOW() : è¿”å›å½“å‰æ—¶é—´ï¼Œå¹´-æœˆ-æ—¥ æ—¶ï¼šåˆ†ï¼šç§’</p></blockquote><blockquote><p><img src="https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE1MzE3NTM4LnBuZw?x-oss-process=image/format,png#alt=DATE_FORMART" alt="" loading="lazy"> &gt; <img src="https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE1NDAxMjQ3LnBuZw?x-oss-process=image/format,png#alt=DATE_FORMART" alt="" loading="lazy"></p></blockquote><blockquote><figure><img src="https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE1NDM3MTY0LnBuZw?x-oss-process=image/format,png#alt=" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></blockquote><h2 id="æµç¨‹å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æµç¨‹å‡½æ•°"><span>æµç¨‹å‡½æ•°</span></a></h2><figure><img src="https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE1NTI3NTM1LnBuZw?x-oss-process=image/format,png#alt=æµç¨‹å‡½æ•°" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="å…¶ä»–å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å…¶ä»–å‡½æ•°"><span>å…¶ä»–å‡½æ•°</span></a></h2><figure><img src="https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI3MjE1NjMyMjk2LnBuZw?x-oss-process=image/format,png#alt=å…¶ä»–å‡½æ•°" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="mysql-50-é¢˜" tabindex="-1"><a class="header-anchor" href="#mysql-50-é¢˜"><span>MySQL 50 é¢˜</span></a></h2><h3 id="å­¦ç”Ÿè¡¨" tabindex="-1"><a class="header-anchor" href="#å­¦ç”Ÿè¡¨"><span>å­¦ç”Ÿè¡¨</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> Student<span class="token punctuation">(</span>SId <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Sname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Sage <span class="token keyword">datetime</span><span class="token punctuation">,</span>Ssex <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;èµµé›·&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1990-01-01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;ç”·&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;é’±ç”µ&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1990-12-21&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;ç”·&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å­™é£&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1990-12-20&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;ç”·&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;04&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;æäº‘&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1990-12-06&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;ç”·&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;05&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å‘¨æ¢…&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1991-12-01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;06&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å´å…°&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1992-01-01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;07&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;éƒ‘ç«¹&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1989-01-01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;09&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å¼ ä¸‰&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;2017-12-20&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;10&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;æå››&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;2017-12-25&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;11&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;æå››&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;2012-06-06&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;12&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;èµµå…­&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;2013-06-13&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Student <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;13&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å­™ä¸ƒ&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;2014-06-01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç§‘ç›®è¡¨" tabindex="-1"><a class="header-anchor" href="#ç§‘ç›®è¡¨"><span>ç§‘ç›®è¡¨</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> Course<span class="token punctuation">(</span>CId <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Cname nvarchar<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>TId <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;è¯­æ–‡&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;æ•°å­¦&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Course <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;è‹±è¯­&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ•™å¸ˆè¡¨" tabindex="-1"><a class="header-anchor" href="#æ•™å¸ˆè¡¨"><span>æ•™å¸ˆè¡¨</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> Teacher<span class="token punctuation">(</span>TId <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Tname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;å¼ ä¸‰&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;æå››&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> Teacher <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;ç‹äº”&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æˆç»©è¡¨" tabindex="-1"><a class="header-anchor" href="#æˆç»©è¡¨"><span>æˆç»©è¡¨</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> SC<span class="token punctuation">(</span>SId <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>CId <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>score <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;04&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;04&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;04&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;05&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;05&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;06&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;06&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;07&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> SC <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;07&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é¢˜ç›®" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®"><span>é¢˜ç›®</span></a></h3><ol><li>æŸ¥è¯¢&quot; 01 &quot;è¯¾ç¨‹æ¯”&quot; 02 &quot;è¯¾ç¨‹æˆç»©é«˜çš„å­¦ç”Ÿçš„ä¿¡æ¯åŠè¯¾ç¨‹åˆ†æ•°</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	s<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>
	s<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span>
	temp1<span class="token punctuation">.</span>class1<span class="token punctuation">,</span>
	temp1<span class="token punctuation">.</span>class2
<span class="token keyword">FROM</span>

<span class="token comment">### æ„å»ºå‡ºå­æŸ¥è¯¢çš„æ•°æ®</span>
	<span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	SId1<span class="token punctuation">,</span>
	class1<span class="token punctuation">,</span>
	class2
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId SId1<span class="token punctuation">,</span> score class1 <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">)</span> t1<span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId SId2<span class="token punctuation">,</span> score class2 <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">=</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">)</span> t2
<span class="token keyword">WHERE</span>
	t1<span class="token punctuation">.</span>SId1 <span class="token operator">=</span> t2<span class="token punctuation">.</span>SId2
	<span class="token operator">AND</span> t1<span class="token punctuation">.</span>class1 <span class="token operator">&gt;</span> t2<span class="token punctuation">.</span>class2
	<span class="token punctuation">)</span> temp1
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> Student s <span class="token keyword">ON</span> s<span class="token punctuation">.</span>SId <span class="token operator">=</span> temp1<span class="token punctuation">.</span>SId1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1.1 æŸ¥è¯¢åŒæ—¶å­˜åœ¨&quot; 01 &quot;è¯¾ç¨‹å’Œ&quot; 02 &quot;è¯¾ç¨‹çš„æƒ…å†µ</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	s<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>
	s<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span>
	temp1<span class="token punctuation">.</span>class1<span class="token punctuation">,</span>
	temp1<span class="token punctuation">.</span>class2
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	SId1<span class="token punctuation">,</span>
	class1<span class="token punctuation">,</span>
	class2
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId SId1<span class="token punctuation">,</span> score class1 <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">)</span> t1<span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId SId2<span class="token punctuation">,</span> score class2 <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">=</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">)</span> t2
<span class="token keyword">WHERE</span>
	t1<span class="token punctuation">.</span>SId1 <span class="token operator">=</span> t2<span class="token punctuation">.</span>SId2
	<span class="token punctuation">)</span> temp1
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> Student s <span class="token keyword">ON</span> s<span class="token punctuation">.</span>SId <span class="token operator">=</span> temp1<span class="token punctuation">.</span>SId1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1.2 æŸ¥è¯¢å­˜åœ¨&quot; 01 &quot;è¯¾ç¨‹ä½†å¯èƒ½ä¸å­˜åœ¨&quot; 02 &quot;è¯¾ç¨‹çš„æƒ…å†µ(ä¸å­˜åœ¨æ—¶æ˜¾ç¤ºä¸º null )</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	s<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>
	s<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span>
	temp1<span class="token punctuation">.</span>class1<span class="token punctuation">,</span>
	temp1<span class="token punctuation">.</span>class2
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	SId1<span class="token punctuation">,</span>
	class1<span class="token punctuation">,</span>
	class2
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId SId1<span class="token punctuation">,</span> score class1 <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">)</span> t1 <span class="token keyword">left</span> <span class="token keyword">join</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId SId2<span class="token punctuation">,</span> score class2 <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">=</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">)</span> t2
<span class="token keyword">on</span>
	t1<span class="token punctuation">.</span>SId1 <span class="token operator">=</span> t2<span class="token punctuation">.</span>SId2
	<span class="token punctuation">)</span> temp1
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> Student s <span class="token keyword">ON</span> s<span class="token punctuation">.</span>SId <span class="token operator">=</span> temp1<span class="token punctuation">.</span>SId1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1.3 æŸ¥è¯¢ä¸å­˜åœ¨&quot; 01 &quot;è¯¾ç¨‹ä½†å­˜åœ¨&quot; 02 &quot;è¯¾ç¨‹çš„æƒ…å†µ</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	s<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>
	s<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span>
	temp1<span class="token punctuation">.</span>class1<span class="token punctuation">,</span>
	temp1<span class="token punctuation">.</span>class2
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	SId2<span class="token punctuation">,</span>
	class1<span class="token punctuation">,</span>
	class2
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId SId1<span class="token punctuation">,</span> score class1 <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">)</span> t1
	<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId SId2<span class="token punctuation">,</span> score class2 <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">=</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">)</span> t2 <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>SId1 <span class="token operator">=</span> t2<span class="token punctuation">.</span>SId2
	<span class="token punctuation">)</span> temp1
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> Student s <span class="token keyword">ON</span> s<span class="token punctuation">.</span>SId <span class="token operator">=</span> temp1<span class="token punctuation">.</span>SId2
<span class="token keyword">WHERE</span>
	temp1<span class="token punctuation">.</span>class1 <span class="token operator">IS</span> <span class="token boolean">NULL</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>æŸ¥è¯¢å¹³å‡æˆç»©å¤§äºç­‰äº 60 åˆ†çš„åŒå­¦çš„å­¦ç”Ÿç¼–å·å’Œå­¦ç”Ÿå§“åå’Œå¹³å‡æˆç»©</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	s<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>
	s<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span>
	t1<span class="token punctuation">.</span>avg
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId sid<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span> score <span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> avg <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token punctuation">)</span> t1
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> Student s <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>sid <span class="token operator">=</span> s<span class="token punctuation">.</span>SId
<span class="token keyword">WHERE</span>
	t1<span class="token punctuation">.</span>avg <span class="token operator">&gt;=</span> <span class="token number">60</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>æŸ¥è¯¢åœ¨ SC è¡¨å­˜åœ¨æˆç»©çš„å­¦ç”Ÿä¿¡æ¯</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	Student
<span class="token keyword">WHERE</span>
	SId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>æŸ¥è¯¢æ‰€æœ‰åŒå­¦çš„å­¦ç”Ÿç¼–å·ã€å­¦ç”Ÿå§“åã€é€‰è¯¾æ€»æ•°ã€æ‰€æœ‰è¯¾ç¨‹çš„æ€»æˆç»©(æ²¡æˆç»©çš„æ˜¾ç¤ºä¸º null )</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	s<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>
	s<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span>
	t1<span class="token punctuation">.</span>sum<span class="token punctuation">,</span>
	t1<span class="token punctuation">.</span>num
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId sid<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span> score <span class="token punctuation">)</span> sum<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> num <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token punctuation">)</span> t1
	<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> Student s <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>sid <span class="token operator">=</span> s<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4.1 æŸ¥æœ‰æˆç»©çš„å­¦ç”Ÿä¿¡æ¯</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	Student
<span class="token keyword">WHERE</span>
	SId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>æŸ¥è¯¢ã€Œæã€å§“è€å¸ˆçš„æ•°é‡</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span>
<span class="token keyword">FROM</span>
	teacher
<span class="token keyword">WHERE</span>
	Tname <span class="token operator">LIKE</span> <span class="token string">&#39;æ%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>æŸ¥è¯¢å­¦è¿‡ã€Œå¼ ä¸‰ã€è€å¸ˆæˆè¯¾çš„åŒå­¦çš„ä¿¡æ¯</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	student
<span class="token keyword">WHERE</span>
	SId <span class="token operator">IN</span> <span class="token punctuation">(</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span>
	SId
<span class="token keyword">FROM</span>
	sc
<span class="token keyword">WHERE</span>
	CId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> CId <span class="token keyword">FROM</span> Course <span class="token keyword">WHERE</span> TId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> TId <span class="token keyword">FROM</span> teacher <span class="token keyword">WHERE</span> Tname <span class="token operator">=</span> <span class="token string">&#39;å¼ ä¸‰&#39;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="7"><li>æŸ¥è¯¢æ²¡æœ‰å­¦å…¨æ‰€æœ‰è¯¾ç¨‹çš„åŒå­¦çš„ä¿¡æ¯</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	t<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
	<span class="token function">count</span><span class="token punctuation">(</span> CId <span class="token punctuation">)</span> num
<span class="token keyword">FROM</span>
	student t
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> sc sc <span class="token keyword">ON</span> t<span class="token punctuation">.</span>SId <span class="token operator">=</span> sc<span class="token punctuation">.</span>SId
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	t<span class="token punctuation">.</span>SId
	<span class="token punctuation">)</span> <span class="token keyword">temp</span><span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span> CId <span class="token punctuation">)</span> count <span class="token keyword">FROM</span> course <span class="token punctuation">)</span> co
<span class="token keyword">WHERE</span>
	<span class="token keyword">temp</span><span class="token punctuation">.</span>num <span class="token operator">&lt;</span> co<span class="token punctuation">.</span>count
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="8"><li>æŸ¥è¯¢è‡³å°‘æœ‰ä¸€é—¨è¯¾ä¸å­¦å·ä¸º&quot; 01 &quot;çš„åŒå­¦æ‰€å­¦ç›¸åŒçš„åŒå­¦çš„ä¿¡æ¯</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	Student
<span class="token keyword">WHERE</span>
	SId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> SID <span class="token keyword">FROM</span> sc <span class="token keyword">WHERE</span> CId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> CId <span class="token keyword">FROM</span> sc <span class="token keyword">WHERE</span> SId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="9"><li>æŸ¥è¯¢å’Œ&quot; 01 &quot;å·çš„åŒå­¦å­¦ä¹ çš„è¯¾ç¨‹ å®Œå…¨ç›¸åŒçš„å…¶ä»–åŒå­¦çš„ä¿¡æ¯</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	Student
<span class="token keyword">WHERE</span>
	SId <span class="token operator">IN</span> <span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	SId
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	<span class="token operator">*</span><span class="token punctuation">,</span>
	<span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> num
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	sc
<span class="token keyword">WHERE</span>
	SId <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> sc <span class="token keyword">WHERE</span> CId <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> CId <span class="token keyword">FROM</span> sc <span class="token keyword">WHERE</span> SId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
	<span class="token punctuation">)</span> t1
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	SId
	<span class="token punctuation">)</span> tt1
<span class="token keyword">WHERE</span>
	num <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token keyword">FROM</span> sc <span class="token keyword">WHERE</span> SId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">)</span>
	<span class="token operator">AND</span> SId <span class="token operator">!=</span> <span class="token string">&#39;01&#39;</span>
	<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="10"><li>æŸ¥è¯¢æ²¡å­¦è¿‡&quot;å¼ ä¸‰&quot;è€å¸ˆè®²æˆçš„ä»»ä¸€é—¨è¯¾ç¨‹çš„å­¦ç”Ÿå§“å</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	student
<span class="token keyword">WHERE</span>
	SId <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	SId
<span class="token keyword">FROM</span>
	sc
<span class="token keyword">WHERE</span>
	CId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> CId <span class="token keyword">FROM</span> course <span class="token keyword">WHERE</span> TId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> TId <span class="token keyword">FROM</span> teacher <span class="token keyword">WHERE</span> Tname <span class="token operator">=</span> <span class="token string">&quot;å¼ ä¸‰&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
	<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="11"><li>æŸ¥è¯¢ä¸¤é—¨åŠå…¶ä»¥ä¸Šä¸åŠæ ¼è¯¾ç¨‹çš„åŒå­¦çš„å­¦å·ï¼Œå§“ååŠå…¶å¹³å‡æˆç»©</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	st<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token punctuation">,</span>avg
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	SId<span class="token punctuation">,</span>
	<span class="token function">sum</span><span class="token punctuation">(</span> score <span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> avg
<span class="token keyword">FROM</span>
	sc
<span class="token keyword">WHERE</span>
	SId <span class="token operator">IN</span> <span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	SId
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> num <span class="token keyword">FROM</span> sc <span class="token keyword">WHERE</span> score <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token punctuation">)</span> t1
<span class="token keyword">WHERE</span>
	num <span class="token operator">&gt;=</span> <span class="token number">2</span>
	<span class="token punctuation">)</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	SId
	<span class="token punctuation">)</span> tt1
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> student st <span class="token keyword">ON</span> tt1<span class="token punctuation">.</span>SId <span class="token operator">=</span> st<span class="token punctuation">.</span>SId
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="12"><li>æ£€ç´¢&quot; 01 &quot;è¯¾ç¨‹åˆ†æ•°å°äº 60ï¼ŒæŒ‰åˆ†æ•°é™åºæ’åˆ—çš„å­¦ç”Ÿä¿¡æ¯</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	student
<span class="token keyword">WHERE</span>
	SId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> sc <span class="token keyword">WHERE</span> score <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token operator">AND</span> CId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> score <span class="token keyword">DESC</span> <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="13"><li>æŒ‰å¹³å‡æˆç»©ä»é«˜åˆ°ä½æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿçš„æ‰€æœ‰è¯¾ç¨‹çš„æˆç»©ä»¥åŠå¹³å‡æˆç»©</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	t1<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
	avg
<span class="token keyword">FROM</span>
	sc t1
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span> score <span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> avg <span class="token keyword">FROM</span> sc <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token punctuation">)</span> t2 <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>sId <span class="token operator">=</span> t1<span class="token punctuation">.</span>SId
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	avg <span class="token keyword">DESC</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>14.æŸ¥è¯¢å„ç§‘æˆç»©æœ€é«˜åˆ†ã€æœ€ä½åˆ†å’Œå¹³å‡åˆ†ï¼š</p><p>ä»¥å¦‚ä¸‹å½¢å¼æ˜¾ç¤ºï¼šè¯¾ç¨‹ IDï¼Œè¯¾ç¨‹ nameï¼Œæœ€é«˜åˆ†ï¼Œæœ€ä½åˆ†ï¼Œå¹³å‡åˆ†ï¼ŒåŠæ ¼ç‡ï¼Œä¸­ç­‰ç‡ï¼Œä¼˜è‰¯ç‡ï¼Œä¼˜ç§€ç‡</p><p>åŠæ ¼ä¸º&gt;=60ï¼Œä¸­ç­‰ä¸ºï¼š70-80ï¼Œä¼˜è‰¯ä¸ºï¼š80-90ï¼Œä¼˜ç§€ä¸ºï¼š&gt;=90 è¦æ±‚è¾“å‡ºè¯¾ç¨‹å·å’Œé€‰ä¿®äººæ•°ï¼ŒæŸ¥è¯¢ç»“æœæŒ‰äººæ•°é™åºæ’åˆ—ï¼Œè‹¥äººæ•°ç›¸åŒï¼ŒæŒ‰è¯¾ç¨‹å·å‡åºæ’åˆ—</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span>
sc<span class="token punctuation">.</span>CId <span class="token punctuation">,</span>
<span class="token function">max</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token keyword">as</span> æœ€é«˜åˆ†<span class="token punctuation">,</span>
<span class="token function">min</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token keyword">as</span> æœ€ä½åˆ†<span class="token punctuation">,</span>
<span class="token function">AVG</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token keyword">as</span> å¹³å‡åˆ†<span class="token punctuation">,</span>
<span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">as</span> é€‰ä¿®äººæ•°<span class="token punctuation">,</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>score<span class="token operator">&gt;=</span><span class="token number">60</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span> <span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">as</span> åŠæ ¼ç‡<span class="token punctuation">,</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>score<span class="token operator">&gt;=</span><span class="token number">70</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">80</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span> <span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">as</span> ä¸­ç­‰ç‡<span class="token punctuation">,</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>score<span class="token operator">&gt;=</span><span class="token number">80</span> <span class="token operator">and</span> sc<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">90</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span> <span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">as</span> ä¼˜è‰¯ç‡<span class="token punctuation">,</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> sc<span class="token punctuation">.</span>score<span class="token operator">&gt;=</span><span class="token number">90</span> <span class="token keyword">then</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token number">0</span> <span class="token keyword">end</span> <span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">as</span> ä¼˜ç§€ç‡
<span class="token keyword">from</span> sc
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>CId
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token keyword">DESC</span><span class="token punctuation">,</span> sc<span class="token punctuation">.</span>CId <span class="token keyword">ASC</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="15"><li>æŒ‰å„ç§‘æˆç»©è¿›è¡Œæ’åºï¼Œå¹¶æ˜¾ç¤ºæ’åï¼Œ Score é‡å¤æ—¶ä¿ç•™åæ¬¡ç©ºç¼º</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token punctuation">(</span> <span class="token variable">@sn</span> :<span class="token operator">=</span> <span class="token variable">@sn</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">)</span> sn<span class="token punctuation">,</span>
	CId<span class="token punctuation">,</span>
	SId<span class="token punctuation">,</span>
	score
<span class="token keyword">FROM</span>
	sc<span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token variable">@sn</span> :<span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">)</span> b
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	CId<span class="token punctuation">,</span>
	score <span class="token keyword">DESC</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>15.1 æŒ‰å„ç§‘æˆç»©è¿›è¡Œæ’åºï¼Œå¹¶æ˜¾ç¤ºæ’åï¼Œ Score é‡å¤æ—¶åˆå¹¶åæ¬¡</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
    sc<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> sc<span class="token punctuation">.</span>CId<span class="token punctuation">,</span> sc<span class="token punctuation">.</span>score<span class="token punctuation">,</span> tp<span class="token punctuation">.</span>ranks
<span class="token keyword">FROM</span>
    test<span class="token punctuation">.</span>sc
    <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span>
        <span class="token punctuation">(</span><span class="token keyword">SELECT</span>
            SId<span class="token punctuation">,</span>
            CId<span class="token punctuation">,</span>
            <span class="token punctuation">(</span><span class="token keyword">SELECT</span>
                <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> sc2<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
                <span class="token keyword">FROM</span>
                    test<span class="token punctuation">.</span>sc sc2
                <span class="token keyword">WHERE</span>
                    sc1<span class="token punctuation">.</span>CId <span class="token operator">=</span> sc2<span class="token punctuation">.</span>CId
                <span class="token operator">AND</span> sc2<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> sc1<span class="token punctuation">.</span>score<span class="token punctuation">)</span> ranks
         <span class="token keyword">FROM</span> test<span class="token punctuation">.</span>sc sc1<span class="token punctuation">)</span> tp
    <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>SId <span class="token operator">=</span> tp<span class="token punctuation">.</span>SId <span class="token operator">AND</span> sc<span class="token punctuation">.</span>CId <span class="token operator">=</span> tp<span class="token punctuation">.</span>CId
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>CId <span class="token punctuation">,</span> ranks
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="16"><li>è¯¢å­¦ç”Ÿçš„æ€»æˆç»©ï¼Œå¹¶è¿›è¡Œæ’åï¼Œæ€»åˆ†é‡å¤æ—¶ä¿ç•™åæ¬¡ç©ºç¼º</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> t1<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token variable">@currank</span>:<span class="token operator">=</span> <span class="token variable">@currank</span><span class="token operator">+</span><span class="token number">1</span> <span class="token keyword">as</span> rank
<span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> sc<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span>
<span class="token keyword">from</span> sc
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>SId
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">sum</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t1<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token variable">@currank</span>:<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>16.1 æŸ¥è¯¢å­¦ç”Ÿçš„æ€»æˆç»©ï¼Œå¹¶è¿›è¡Œæ’åï¼Œæ€»åˆ†é‡å¤æ—¶ä¸ä¿ç•™åæ¬¡ç©ºç¼º</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SET</span> <span class="token variable">@crank</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span>
	q<span class="token punctuation">.</span>sid<span class="token punctuation">,</span>
	total<span class="token punctuation">,</span>
	<span class="token variable">@crank</span> :<span class="token operator">=</span> <span class="token variable">@crank</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token keyword">AS</span> rank
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> sc<span class="token punctuation">.</span>sid<span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span> sc<span class="token punctuation">.</span>score <span class="token punctuation">)</span> <span class="token keyword">AS</span> total <span class="token keyword">FROM</span> sc <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc<span class="token punctuation">.</span>sid <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> total <span class="token keyword">DESC</span> <span class="token punctuation">)</span> q<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="17"><li>ç»Ÿè®¡å„ç§‘æˆç»©å„åˆ†æ•°æ®µäººæ•°ï¼šè¯¾ç¨‹ç¼–å·ï¼Œè¯¾ç¨‹åç§°ï¼Œ[100-85]ï¼Œ[85-70]ï¼Œ[70-60]ï¼Œ[60-0] åŠæ‰€å ç™¾åˆ†æ¯”</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
    c<span class="token punctuation">.</span>CId è¯¾ç¨‹ç¼–å·<span class="token punctuation">,</span>
    c<span class="token punctuation">.</span>Cname è¯¾ç¨‹åç§°<span class="token punctuation">,</span>
    <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">CASE</span>
            <span class="token keyword">WHEN</span> sc<span class="token punctuation">.</span>score <span class="token operator">&gt;=</span> <span class="token number">85</span> <span class="token keyword">THEN</span> <span class="token number">1</span>
            <span class="token keyword">ELSE</span> <span class="token boolean">NULL</span>
         <span class="token keyword">END</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;[100,85]äººæ•°&#39;</span><span class="token punctuation">,</span>
    <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">CASE</span>
                    <span class="token keyword">WHEN</span> sc<span class="token punctuation">.</span>score <span class="token operator">&gt;=</span> <span class="token number">85</span> <span class="token keyword">THEN</span> <span class="token number">1</span>
                    <span class="token keyword">ELSE</span> <span class="token boolean">NULL</span>
                <span class="token keyword">END</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;[100,85]å æ¯”&#39;</span><span class="token punctuation">,</span>
    <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">CASE</span>
            <span class="token keyword">WHEN</span> sc<span class="token punctuation">.</span>score <span class="token operator">&gt;=</span> <span class="token number">70</span> <span class="token operator">AND</span> sc<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> <span class="token number">85</span> <span class="token keyword">THEN</span> <span class="token number">1</span>
            <span class="token keyword">ELSE</span> <span class="token boolean">NULL</span>
         <span class="token keyword">END</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;(85,70]äººæ•°&#39;</span><span class="token punctuation">,</span>
    <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">CASE</span>
                    <span class="token keyword">WHEN</span> sc<span class="token punctuation">.</span>score <span class="token operator">&gt;=</span> <span class="token number">70</span> <span class="token operator">AND</span> sc<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> <span class="token number">85</span> <span class="token keyword">THEN</span> <span class="token number">1</span>
                    <span class="token keyword">ELSE</span> <span class="token boolean">NULL</span>
                <span class="token keyword">END</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span>
         <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;(85,70]å æ¯”&#39;</span><span class="token punctuation">,</span>
    <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">CASE</span>
            <span class="token keyword">WHEN</span> sc<span class="token punctuation">.</span>score <span class="token operator">&gt;=</span> <span class="token number">60</span> <span class="token operator">AND</span> sc<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> <span class="token number">70</span> <span class="token keyword">THEN</span> <span class="token number">1</span>
            <span class="token keyword">ELSE</span> <span class="token boolean">NULL</span>
         <span class="token keyword">END</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;(70,60]äººæ•°&#39;</span><span class="token punctuation">,</span>
    <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">CASE</span>
                    <span class="token keyword">WHEN</span> sc<span class="token punctuation">.</span>score <span class="token operator">&gt;=</span> <span class="token number">60</span> <span class="token operator">AND</span> sc<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> <span class="token number">70</span> <span class="token keyword">THEN</span> <span class="token number">1</span>
                    <span class="token keyword">ELSE</span> <span class="token boolean">NULL</span>
                 <span class="token keyword">END</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span>
         <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;(70,60]å æ¯”&#39;</span><span class="token punctuation">,</span>
    <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">CASE</span>
            <span class="token keyword">WHEN</span> sc<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token keyword">THEN</span> <span class="token number">1</span>
            <span class="token keyword">ELSE</span> <span class="token boolean">NULL</span>
          <span class="token keyword">END</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;(60,0]äººæ•°&#39;</span><span class="token punctuation">,</span>
    <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">CASE</span>
                    <span class="token keyword">WHEN</span> sc<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token keyword">THEN</span> <span class="token number">1</span>
                    <span class="token keyword">ELSE</span> <span class="token boolean">NULL</span>
                <span class="token keyword">END</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span>
         <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;(60,0]å æ¯”&#39;</span>
<span class="token keyword">FROM</span>
    Course c
    <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> sc
    <span class="token keyword">ON</span> c<span class="token punctuation">.</span>CId <span class="token operator">=</span> sc<span class="token punctuation">.</span>CId
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> c<span class="token punctuation">.</span>CId
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="18"><li>æŸ¥è¯¢å„ç§‘æˆç»©å‰ä¸‰åçš„è®°å½•</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span>
<span class="token keyword">from</span> sc
<span class="token keyword">where</span>  <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> sc <span class="token keyword">as</span> a <span class="token keyword">where</span> sc<span class="token punctuation">.</span>CId <span class="token operator">=</span>a<span class="token punctuation">.</span>CId <span class="token operator">and</span>  sc<span class="token punctuation">.</span>score <span class="token operator">&lt;</span>a<span class="token punctuation">.</span>score <span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">3</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> CId <span class="token keyword">asc</span><span class="token punctuation">,</span>sc<span class="token punctuation">.</span>score <span class="token keyword">desc</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="19"><li>æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹è¢«é€‰ä¿®çš„å­¦ç”Ÿæ•°</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> CId<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> count <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> CId <span class="token punctuation">)</span> t1
	<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> Course c <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>CId <span class="token operator">=</span> c<span class="token punctuation">.</span>CId
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="20"><li>æŸ¥è¯¢å‡ºåªé€‰ä¿®ä¸¤é—¨è¯¾ç¨‹çš„å­¦ç”Ÿå­¦å·å’Œå§“å</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	SId<span class="token punctuation">,</span>
	Sname
<span class="token keyword">FROM</span>
	Student
<span class="token keyword">WHERE</span>
	SId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> count <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token punctuation">)</span> t1 <span class="token keyword">WHERE</span> t1<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">2</span> <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="21"><li>æŸ¥è¯¢ç”·ç”Ÿã€å¥³ç”Ÿäººæ•°</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	Ssex<span class="token punctuation">,</span>
	<span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span>
<span class="token keyword">FROM</span>
	Student
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	Ssex
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="22"><li>æŸ¥è¯¢åå­—ä¸­å«æœ‰ã€Œé£ã€å­—çš„å­¦ç”Ÿä¿¡æ¯</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	Student
<span class="token keyword">WHERE</span>
	Sname <span class="token operator">LIKE</span> <span class="token string">&#39;%é£%&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="23"><li>æŸ¥è¯¢åŒååŒæ€§å­¦ç”Ÿåå•ï¼Œå¹¶ç»Ÿè®¡åŒåäººæ•°</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	s1<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span>
	<span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span>
<span class="token keyword">FROM</span>
	Student s1<span class="token punctuation">,</span>
	Student s2
<span class="token keyword">WHERE</span>
	s1<span class="token punctuation">.</span>Sname <span class="token operator">=</span> s2<span class="token punctuation">.</span>Sname
	<span class="token operator">AND</span> s1<span class="token punctuation">.</span>Ssex <span class="token operator">=</span> s2<span class="token punctuation">.</span>Ssex
	<span class="token operator">AND</span> s1<span class="token punctuation">.</span>SId <span class="token operator">!=</span> s2<span class="token punctuation">.</span>SId
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	s1<span class="token punctuation">.</span>Sname
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="24"><li>æŸ¥è¯¢ 1990 å¹´å‡ºç”Ÿçš„å­¦ç”Ÿåå•</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	student
<span class="token keyword">WHERE</span>
	DATE_FORMAT<span class="token punctuation">(</span> Sage<span class="token punctuation">,</span> <span class="token string">&#39;%Y&#39;</span> <span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&#39;1990&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="25"><li>æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹çš„å¹³å‡æˆç»©ï¼Œç»“æœæŒ‰å¹³å‡æˆç»©é™åºæ’åˆ—ï¼Œå¹³å‡æˆç»©ç›¸åŒæ—¶ï¼ŒæŒ‰è¯¾ç¨‹ç¼–å·å‡åºæ’åˆ—</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	c<span class="token punctuation">.</span>CId CId<span class="token punctuation">,</span>
	Cname<span class="token punctuation">,</span>
	<span class="token function">avg</span><span class="token punctuation">(</span> score <span class="token punctuation">)</span>
<span class="token keyword">FROM</span>
	course c
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> sc sc <span class="token keyword">ON</span> c<span class="token punctuation">.</span>CId <span class="token operator">=</span> sc<span class="token punctuation">.</span>CId
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	Cname
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	CId
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="26"><li>æŸ¥è¯¢å¹³å‡æˆç»©å¤§äºç­‰äº 85 çš„æ‰€æœ‰å­¦ç”Ÿçš„å­¦å·ã€å§“åå’Œå¹³å‡æˆç»©</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	SId<span class="token punctuation">,</span>
	avg
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span> score <span class="token punctuation">)</span> avg <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token punctuation">)</span> t1
<span class="token keyword">WHERE</span>
	t1<span class="token punctuation">.</span>avg <span class="token operator">&gt;=</span> <span class="token number">80</span>
	<span class="token punctuation">)</span> tt1
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> student s <span class="token keyword">ON</span> tt1<span class="token punctuation">.</span>SId <span class="token operator">=</span> s<span class="token punctuation">.</span>SId
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="27"><li>æŸ¥è¯¢è¯¾ç¨‹åç§°ä¸ºã€Œæ•°å­¦ã€ï¼Œä¸”åˆ†æ•°ä½äº 60 çš„å­¦ç”Ÿå§“åå’Œåˆ†æ•°</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> Score <span class="token keyword">FROM</span> sc <span class="token keyword">WHERE</span> score <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token operator">AND</span> CId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> CId <span class="token keyword">FROM</span> course <span class="token keyword">WHERE</span> Cname <span class="token operator">=</span> <span class="token string">&#39;æ•°å­¦&#39;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> t1
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> student s <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>SId <span class="token operator">=</span> s<span class="token punctuation">.</span>SId
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="28"><li>æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿçš„è¯¾ç¨‹åŠåˆ†æ•°æƒ…å†µï¼ˆå­˜åœ¨å­¦ç”Ÿæ²¡æˆç»©ï¼Œæ²¡é€‰è¯¾çš„æƒ…å†µï¼‰</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
    s<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> s<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span> sc<span class="token punctuation">.</span>CId<span class="token punctuation">,</span> sc<span class="token punctuation">.</span>score
<span class="token keyword">FROM</span>
    student s
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span>
    sc sc
<span class="token keyword">ON</span>
    sc<span class="token punctuation">.</span>SId <span class="token operator">=</span> s<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="29"><li>æŸ¥è¯¢ä»»ä½•ä¸€é—¨è¯¾ç¨‹æˆç»©åœ¨ 70 åˆ†ä»¥ä¸Šçš„å§“åã€è¯¾ç¨‹åç§°å’Œåˆ†æ•°</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> sc <span class="token keyword">WHERE</span> score <span class="token operator">&gt;</span> <span class="token number">70</span> <span class="token punctuation">)</span> t1
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> student s <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>SId <span class="token operator">=</span> s<span class="token punctuation">.</span>SId
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>CId <span class="token operator">=</span> c<span class="token punctuation">.</span>CId
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="30"><li>æŸ¥è¯¢ä¸åŠæ ¼çš„è¯¾ç¨‹</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	sc sc
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> course c <span class="token keyword">ON</span> sc<span class="token punctuation">.</span>CId <span class="token operator">=</span> c<span class="token punctuation">.</span>CId
<span class="token keyword">WHERE</span>
	score <span class="token operator">&lt;</span> <span class="token number">60</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	sc<span class="token punctuation">.</span>CId
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="31"><li>æŸ¥è¯¢è¯¾ç¨‹ç¼–å·ä¸º 01 ä¸”è¯¾ç¨‹æˆç»©åœ¨ 80 åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿçš„å­¦å·å’Œå§“å</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	student
<span class="token keyword">WHERE</span>
	SId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> sc <span class="token keyword">WHERE</span> CId <span class="token operator">=</span> <span class="token number">01</span> <span class="token operator">AND</span> score <span class="token operator">&gt;</span> <span class="token number">80</span> <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="32"><li>æ±‚æ¯é—¨è¯¾ç¨‹çš„å­¦ç”Ÿäººæ•°</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span><span class="token punctuation">,</span>
	<span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span>
<span class="token keyword">FROM</span>
	course c
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> sc sc <span class="token keyword">ON</span> c<span class="token punctuation">.</span>CId <span class="token operator">=</span> sc<span class="token punctuation">.</span>CId
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
	sc<span class="token punctuation">.</span>CId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="33"><li>æˆç»©ä¸é‡å¤ï¼ŒæŸ¥è¯¢é€‰ä¿®ã€Œå¼ ä¸‰ã€è€å¸ˆæ‰€æˆè¯¾ç¨‹çš„å­¦ç”Ÿä¸­ï¼Œæˆç»©æœ€é«˜çš„å­¦ç”Ÿä¿¡æ¯åŠå…¶æˆç»©</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	SId<span class="token punctuation">,</span>
	score
<span class="token keyword">FROM</span>
	SC
<span class="token keyword">WHERE</span>
	CId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> CId <span class="token keyword">FROM</span> Course <span class="token keyword">WHERE</span> TId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> TId <span class="token keyword">FROM</span> Teacher <span class="token keyword">WHERE</span> Tname <span class="token operator">=</span> <span class="token string">&quot;å¼ ä¸‰&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	score <span class="token keyword">DESC</span>
	<span class="token keyword">LIMIT</span> <span class="token number">1</span>
	<span class="token punctuation">)</span> t1
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> Student s <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>Sid <span class="token operator">=</span> s<span class="token punctuation">.</span>SId
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="34"><li>æˆç»©æœ‰é‡å¤çš„æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢é€‰ä¿®ã€Œå¼ ä¸‰ã€è€å¸ˆæ‰€æˆè¯¾ç¨‹çš„å­¦ç”Ÿä¸­ï¼Œæˆç»©æœ€é«˜çš„å­¦ç”Ÿä¿¡æ¯åŠå…¶æˆç»©</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	SId<span class="token punctuation">,</span>
	score
<span class="token keyword">FROM</span>
	SC
<span class="token keyword">WHERE</span>
	score <span class="token operator">=</span> <span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	score
<span class="token keyword">FROM</span>
	SC
<span class="token keyword">WHERE</span>
	CId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> CId <span class="token keyword">FROM</span> Course <span class="token keyword">WHERE</span> TId <span class="token operator">IN</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> TId <span class="token keyword">FROM</span> Teacher <span class="token keyword">WHERE</span> Tname <span class="token operator">=</span> <span class="token string">&quot;å¼ ä¸‰&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
	score <span class="token keyword">DESC</span>
	<span class="token keyword">LIMIT</span> <span class="token number">1</span>
	<span class="token punctuation">)</span>
	<span class="token punctuation">)</span> t1
	<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> Student s <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>Sid <span class="token operator">=</span> s<span class="token punctuation">.</span>SId
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="35"><li>æŸ¥è¯¢ä¸åŒè¯¾ç¨‹æˆç»©ç›¸åŒçš„å­¦ç”Ÿçš„å­¦ç”Ÿç¼–å·ã€è¯¾ç¨‹ç¼–å·ã€å­¦ç”Ÿæˆç»©</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
    sc1<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> sc1<span class="token punctuation">.</span>CId<span class="token punctuation">,</span> sc1<span class="token punctuation">.</span>score
<span class="token keyword">FROM</span>
    sc sc1
<span class="token keyword">JOIN</span>
    sc sc2
<span class="token keyword">ON</span>  sc1<span class="token punctuation">.</span>SId <span class="token operator">=</span> sc2<span class="token punctuation">.</span>SId
    <span class="token operator">AND</span> sc1<span class="token punctuation">.</span>score <span class="token operator">=</span> sc2<span class="token punctuation">.</span>score
    <span class="token operator">AND</span> sc1<span class="token punctuation">.</span>CId <span class="token operator">!=</span> sc2<span class="token punctuation">.</span>CId
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> sc1<span class="token punctuation">.</span>CId <span class="token punctuation">,</span> sc1<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="36"><li>æŸ¥è¯¢æ¯é—¨åŠŸæˆç»©æœ€å¥½çš„å‰ä¸¤å</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
    a<span class="token punctuation">.</span>CId<span class="token punctuation">,</span> a<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> a<span class="token punctuation">.</span>score
<span class="token keyword">FROM</span>
    sc a
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span>
    sc b
<span class="token keyword">ON</span>
    a<span class="token punctuation">.</span>CId <span class="token operator">=</span> b<span class="token punctuation">.</span>CId
    <span class="token operator">AND</span> a<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>score
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> a<span class="token punctuation">.</span>CId <span class="token punctuation">,</span> a<span class="token punctuation">.</span>SId
<span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>CId<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span>
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> CId <span class="token punctuation">,</span> score <span class="token keyword">DESC</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="37"><li>ç»Ÿè®¡æ¯é—¨è¯¾ç¨‹çš„å­¦ç”Ÿé€‰ä¿®äººæ•°ï¼ˆè¶…è¿‡ 5 äººçš„è¯¾ç¨‹æ‰ç»Ÿè®¡ï¼‰ã€‚</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> CId<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> count <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> CId <span class="token punctuation">)</span> t1
<span class="token keyword">WHERE</span>
	t1<span class="token punctuation">.</span>count <span class="token operator">&gt;</span> <span class="token number">5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="38"><li>æ£€ç´¢è‡³å°‘é€‰ä¿®ä¸¤é—¨è¯¾ç¨‹çš„å­¦ç”Ÿå­¦å·</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	SId
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> count <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token punctuation">)</span> t1
<span class="token keyword">WHERE</span>
	t1<span class="token punctuation">.</span>count <span class="token operator">&gt;</span><span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="39"><li>æŸ¥è¯¢é€‰ä¿®äº†å…¨éƒ¨è¯¾ç¨‹çš„å­¦ç”Ÿä¿¡æ¯</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span>
<span class="token keyword">FROM</span>
	student
<span class="token keyword">WHERE</span>
	SId <span class="token operator">IN</span> <span class="token punctuation">(</span>
<span class="token keyword">SELECT</span>
	SId
<span class="token keyword">FROM</span>
	<span class="token punctuation">(</span> <span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> count <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token punctuation">)</span> t1
<span class="token keyword">WHERE</span>
	count <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token keyword">FROM</span> course <span class="token punctuation">)</span>
	<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="40"><li>æŸ¥è¯¢å„å­¦ç”Ÿçš„å¹´é¾„ï¼ŒåªæŒ‰å¹´ä»½æ¥ç®—</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span><span class="token punctuation">,</span>
	DATE_FORMAT<span class="token punctuation">(</span> <span class="token function">now</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;%Y&#39;</span> <span class="token punctuation">)</span> <span class="token operator">-</span> DATE_FORMAT<span class="token punctuation">(</span> Sage<span class="token punctuation">,</span> <span class="token string">&#39;%Y&#39;</span> <span class="token punctuation">)</span>
<span class="token keyword">FROM</span>
	student
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="41"><li>æŒ‰ç…§å‡ºç”Ÿæ—¥æœŸæ¥ç®—ï¼Œå½“å‰æœˆæ—¥ &lt; å‡ºç”Ÿå¹´æœˆçš„æœˆæ—¥åˆ™ï¼Œå¹´é¾„å‡ä¸€</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
	<span class="token operator">*</span><span class="token punctuation">,</span>
	DATE_FORMAT<span class="token punctuation">(</span> <span class="token function">now</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;%Y&#39;</span> <span class="token punctuation">)</span> <span class="token operator">-</span> DATE_FORMAT<span class="token punctuation">(</span> Sage<span class="token punctuation">,</span> <span class="token string">&#39;%Y&#39;</span> <span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span> DATE_FORMAT<span class="token punctuation">(</span> <span class="token function">now</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;%m%d&#39;</span> <span class="token punctuation">)</span> <span class="token operator">&lt;</span> DATE_FORMAT<span class="token punctuation">(</span> Sage<span class="token punctuation">,</span> <span class="token string">&#39;%m%d&#39;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
<span class="token keyword">FROM</span>
	student
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="42"><li>æŸ¥è¯¢æœ¬å‘¨è¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
    <span class="token operator">*</span>
<span class="token keyword">FROM</span>
    student
<span class="token keyword">WHERE</span>
    WEEKOFYEAR<span class="token punctuation">(</span>Sage<span class="token punctuation">)</span> <span class="token operator">=</span> WEEKOFYEAR<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="43"><li>æŸ¥è¯¢ä¸‹å‘¨è¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
    <span class="token operator">*</span>
<span class="token keyword">FROM</span>
    student
<span class="token keyword">WHERE</span>
    WEEKOFYEAR<span class="token punctuation">(</span>Sage<span class="token punctuation">)</span> <span class="token operator">-</span> WEEKOFYEAR<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="44"><li>æŸ¥è¯¢æœ¬æœˆè¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
    <span class="token operator">*</span>
<span class="token keyword">FROM</span>
    student
<span class="token keyword">WHERE</span>
    <span class="token keyword">MONTH</span><span class="token punctuation">(</span>Sage<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="45"><li>æŸ¥è¯¢ä¸‹æœˆè¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ</li></ol><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
    <span class="token operator">*</span>
<span class="token keyword">FROM</span>
    student
<span class="token keyword">WHERE</span>
    <span class="token keyword">MONTH</span><span class="token punctuation">(</span>Sage<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å­˜å‚¨å¼•æ“" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨å¼•æ“"><span>å­˜å‚¨å¼•æ“</span></a></h2><ul><li>MYSQL5.0 å­˜å‚¨å¼•æ“æœ‰ MyISAMã€InnoDBã€BDBã€MEMORYã€MERGEã€EXAMPLEã€NDB Clusterã€ARCHIVEã€CSVã€BLACKHOLEã€FEDERATED ç­‰ï¼Œå…¶ä¸­ InnoDB å’Œ BDB æ˜¯æä¾›äº‹åŠ¡å®‰å…¨è¡¨ï¼Œå…¶ä»–çš„å¼•æ“éƒ½æ˜¯éäº‹åŠ¡å®‰å…¨è¡¨ã€‚</li><li>show engines \G å¯æŸ¥çœ‹å½“å‰æ•°æ®åº“æ”¯æŒçš„å¼•æ“</li><li>alter tables tableName engine = innodb ä¿®æ”¹å­˜å‚¨å¼•æ“ä¸º InnoDB</li></ul><h3 id="å‚¨å­˜å¼•æ“çš„å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#å‚¨å­˜å¼•æ“çš„å¯¹æ¯”"><span>å‚¨å­˜å¼•æ“çš„å¯¹æ¯”</span></a></h3><figure><img src="https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvbWFya2Rvd24taW1nLXBhc3RlLTIwMjAwNDI4MDkyMTE5MzU4LnBuZw?x-oss-process=image/format,png#alt=å­˜å‚¨å¼•æ“å¯¹æ¯”" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="myisam-å­˜å‚¨å¼•æ“" tabindex="-1"><a class="header-anchor" href="#myisam-å­˜å‚¨å¼•æ“"><span>MyISAM å­˜å‚¨å¼•æ“</span></a></h3><ul><li></li></ul><p>MYSQL é»˜è®¤å¼•æ“ï¼Œä¸æ”¯æŒäº‹åŠ¡å’Œå¤–é”®ï¼Œä½†æ˜¯è®¿é—®é€Ÿåº¦å¿«</p><ul><li><p>ä¼šåœ¨ç›¸åº”çš„æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆä¸‰ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åå’Œè¡¨æ˜ç›¸åŒï¼Œæ‰©å±•ååˆ†åˆ«æ˜¯</p><ul><li>.frm(å­˜å‚¨å®šä¹‰è¡¨)</li><li>.MYD(MYData å­˜å‚¨æ•°æ®)</li><li>.MYI(MYIndex å­˜å‚¨ç´¢å¼•)</li></ul></li><li><p>æ•°æ®å’Œç´¢å¼•æ–‡ä»¶å¯æ”¾ç½®å†ä¸åŒçš„ç›®å½•ï¼Œå¹³å‡åˆ†é… IOï¼Œè·å¾—æ›´å¿«çš„é€Ÿåº¦ã€‚</p><ul><li>éœ€è¦åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™æŒ‡å®š data dirctory å’Œ index directory, è·¯å¾„ä¸ºç»å¯¹è·¯å¾„ï¼Œå¹¶ä¸”å…·æœ‰è®¿é—®æƒé™</li></ul></li><li><p>å­˜å‚¨æ ¼å¼</p><ul><li>é™æ€ï¼ˆå›ºå®šé•¿åº¦ï¼‰è¡¨</li><li>åŠ¨æ€è¡¨</li><li>å‹ç¼©è¡¨</li></ul></li></ul><blockquote><p>é™æ€è¡¨ï¼šé»˜è®¤å­˜å‚¨æ ¼å¼ï¼Œè¿™æ ·æ¯ä¸ªè®°å½•éƒ½æ˜¯å›ºå®šé•¿åº¦çš„ï¼Œè¿™ç§å­˜å‚¨æ–¹å¼çš„ä¼˜ç‚¹æ˜¯å­˜å‚¨éå¸¸è¿…é€Ÿï¼Œå®¹æ˜“ç¼“å­˜ï¼Œå‡ºç°æ•…éšœå®¹æ˜“æ¢å¤ï¼›ç¼ºç‚¹æ˜¯å ç”¨çš„ç©ºé—´é€šå¸¸æ¯”åŠ¨æ€è¡¨å¤šã€‚é™æ€è¡¨çš„æ•°æ®åœ¨å­˜å‚¨çš„æ—¶å€™ä¼šæŒ‰ç…§åˆ—çš„å®½åº¦å®šä¹‰è¡¥è¶³ç©ºæ ¼ï¼Œä½†æ˜¯åœ¨åº”ç”¨è®¿é—®çš„æ—¶å€™å¹¶ä¸ä¼šå¾—åˆ°è¿™äº›ç©ºæ ¼ï¼Œè¿™äº›ç©ºæ ¼åœ¨è¿”å›ç»™åº”ç”¨ä¹‹å‰å·²ç»å»æ‰ã€‚</p></blockquote><blockquote><p>åŠ¨æ€è¡¨ï¼š åŠ¨æ€è¡¨ä¸­åŒ…å«å˜é•¿å­—æ®µï¼Œè®°å½•ä¸æ˜¯å›ºå®šé•¿åº¦çš„ï¼Œè¿™æ ·å­˜å‚¨çš„ä¼˜ç‚¹æ˜¯å ç”¨çš„ç©ºé—´ç›¸å¯¹è¾ƒå°‘ï¼Œä½†æ˜¯é¢‘ç¹åœ°æ›´æ–°åˆ é™¤è®°å½•ä¼šäº§ç”Ÿç¢ç‰‡ï¼Œéœ€è¦å®šæœŸæ‰§è¡Œ OPTIMIZE TABLE è¯­å¥æˆ– myisamchk -r å‘½ä»¤æ¥æ”¹å–„æ€§èƒ½ï¼Œå¹¶ä¸”å‡ºç°æ•…éšœçš„æ—¶å€™æ¢å¤ç›¸å¯¹æ¯”è¾ƒå›°éš¾</p></blockquote><blockquote><p>å‹ç¼©è¡¨ç”± myisampack å·¥å…·åˆ›å»ºï¼Œå æ®éå¸¸å°çš„ç£ç›˜ç©ºé—´ã€‚å› ä¸ºæ¯ä¸ªè®°å½•æ˜¯è¢«å•ç‹¬å‹ç¼©çš„</p></blockquote><h3 id="innodb-å­˜å‚¨å¼•æ“" tabindex="-1"><a class="header-anchor" href="#innodb-å­˜å‚¨å¼•æ“"><span>InnoDB å­˜å‚¨å¼•æ“</span></a></h3><ol><li>è‡ªåŠ¨å¢é•¿åˆ—</li></ol><ul><li>å¯é€šè¿‡ <code>alter table tableName auto_increment = n</code> è®¾ç½®è‡ªåŠ¨å¢é•¿çš„é—´éš”</li><li>å¯ä½¿ç”¨ <code>last_insert_id()</code> æŸ¥è¯¢å½“å‰çº¿ç¨‹çš„æœ€åæ’å…¥è®°å½•çš„å€¼</li><li>è‡ªåŠ¨å¢é•¿åˆ—å¿…é¡»æ˜¯ç´¢å¼•ï¼Œå¦‚æœæ˜¯ç»„åˆç´¢å¼•ï¼Œå¿…é¡»æ˜¯ç»„åˆç´¢å¼•çš„ç¬¬ä¸€ä¸ªï¼Œä½†æ˜¯å¯¹äº MyISAM è¡¨ï¼Œè‡ªåŠ¨å¢é•¿åˆ—å¯ä»¥æ˜¯ç»„åˆç´¢å¼•çš„å…¶ä»–åˆ—ï¼Œè¿™æ ·æ’å…¥è®°å½•åï¼Œè‡ªåŠ¨å¢é•¿åˆ—æ˜¯æŒ‰ç…§ç»„åˆç´¢å¼•çš„å‰é¢å‡ åˆ—è¿›è¡Œæ’åºåé€’å¢çš„</li></ul><ol start="2"><li>å¤–é”®çº¦æŸ</li></ol><ul><li>æ”¯æŒå¤–é”®çš„å­˜å‚¨å¼•æ“åªæœ‰ InnoDBï¼Œå¤–é”®å¯¹åº”çš„çˆ¶è¡¨å¿…é¡»æœ‰å¯¹åº”çš„ç´¢å¼•ï¼Œå­è¡¨åˆ›å»ºå¤–é”®çš„æ—¶å€™ä¼šè‡ªåŠ¨åˆ›å»ºç´¢å¼•</li><li>åœ¨åˆ›å»ºç´¢å¼•çš„æ—¶å€™ï¼Œ å¯ä»¥æŒ‡å®šåœ¨åˆ é™¤ã€ æ›´æ–°çˆ¶è¡¨æ—¶ï¼Œ å¯¹å­è¡¨è¿›è¡Œçš„ç›¸åº”æ“ä½œï¼Œ åŒ… RESTRICTã€CASCADEã€SET NULL å’Œ NO ACTIONã€‚å…¶ä¸­ RESTRICT å’Œ NO ACTION ç›¸åŒï¼Œæ˜¯æŒ‡é™åˆ¶åœ¨å­è¡¨æœ‰å…³è”è®°å½•çš„æƒ…å†µä¸‹çˆ¶è¡¨ä¸èƒ½æ›´æ–°ï¼› CASCADE è¡¨ç¤ºçˆ¶è¡¨åœ¨æ›´æ–°æˆ–è€…åˆ é™¤æ—¶ï¼Œæ›´æ–°æˆ–è€…åˆ é™¤å­è¡¨å¯¹åº”è®°å½•ï¼›SET NULL åˆ™è¡¨ç¤ºçˆ¶è¡¨åœ¨æ›´æ–°æˆ–è€…åˆ é™¤çš„æ—¶å€™ï¼Œå­è¡¨çš„å¯¹åº”å­—æ®µè¢« SET NULLã€‚é€‰æ‹©åä¸¤ç§æ–¹å¼çš„æ—¶å€™è¦è°¨æ…ï¼Œå¯èƒ½ä¼šå› ä¸ºé”™è¯¯çš„æ“ä½œå¯¼è‡´æ•°æ®çš„ä¸¢å¤±</li></ul><ol start="3"><li>å­˜å‚¨æ–¹å¼</li></ol><p>InnoDB å­˜å‚¨è¡¨å’Œç´¢å¼•æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p><ul><li><p>ä½¿ç”¨å…±äº«è¡¨ç©ºé—´å­˜å‚¨ï¼Œè¿™ç§æ–¹å¼åˆ›å»ºçš„è¡¨çš„è¡¨ç»“æ„ä¿å­˜åœ¨.frm æ–‡ä»¶ä¸­ï¼Œæ•°æ®å’Œç´¢å¼•ä¿å­˜åœ¨ innodb_data_home_dir å’Œ innodb_data_file_path å®šä¹‰çš„è¡¨ç©ºé—´ä¸­ï¼Œå¯ä»¥æ˜¯å¤šä¸ªæ–‡ä»¶</p></li><li><p>ä½¿ç”¨å¤šè¡¨ç©ºé—´å­˜å‚¨ï¼Œè¿™ç§æ–¹å¼åˆ›å»ºçš„è¡¨çš„è¡¨ç»“æ„ä»ç„¶ä¿å­˜åœ¨.frm æ–‡ä»¶ä¸­ï¼Œä½†æ˜¯æ¯ä¸ªè¡¨çš„æ•°æ®å’Œç´¢å¼•å•ç‹¬ä¿å­˜åœ¨.ibd ä¸­ã€‚å¦‚æœæ˜¯ä¸ªåˆ†åŒºè¡¨ï¼Œåˆ™æ¯ä¸ªåˆ†åŒºå¯¹åº”å•ç‹¬çš„.ibd æ–‡ä»¶ï¼Œæ–‡ä»¶åæ˜¯â€œè¡¨å+åˆ†åŒºåâ€ ï¼Œå¯ä»¥åœ¨åˆ›å»ºåˆ†åŒºçš„æ—¶å€™æŒ‡å®šæ¯ä¸ªåˆ†åŒºçš„æ•°æ®æ–‡ä»¶çš„ä½ç½®ï¼Œä»¥æ­¤æ¥å°†è¡¨çš„ IO å‡åŒ€åˆ†å¸ƒåœ¨å¤šä¸ªç£ç›˜ä¸Š</p></li><li><p>è¦ä½¿ç”¨å¤šè¡¨ç©ºé—´çš„å­˜å‚¨æ–¹å¼ï¼Œéœ€è¦è®¾ç½®å‚æ•° innodb_file_per_tableï¼Œå¹¶é‡æ–°å¯åŠ¨æœåŠ¡åæ‰å¯ä»¥ç”Ÿæ•ˆï¼Œå¤šè¡¨ç©ºé—´çš„å‚æ•°ç”Ÿæ•ˆåï¼Œåªå¯¹æ–°å»ºçš„è¡¨ç”Ÿæ•ˆã€‚</p></li><li><p>å¤šè¡¨ç©ºé—´çš„æ•°æ®æ–‡ä»¶æ²¡æœ‰å¤§å°é™åˆ¶ï¼Œä¸éœ€è¦è®¾ç½®åˆå§‹å¤§å°ï¼Œä¹Ÿä¸éœ€è¦è®¾ç½®æ–‡ä»¶çš„æœ€å¤§é™åˆ¶ã€æ‰©å±•å¤§å°ç­‰å‚æ•°</p></li><li><p>å¯¹äºä½¿ç”¨å¤šè¡¨ç©ºé—´ç‰¹æ€§çš„è¡¨ï¼Œå¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°è¿›è¡Œå•è¡¨å¤‡ä»½å’Œæ¢å¤æ“ä½œï¼Œä½†æ˜¯ç›´æ¥å¤åˆ¶.ibd æ–‡ä»¶æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºæ²¡æœ‰å…±äº«è¡¨ç©ºé—´çš„æ•°æ®å­—å…¸ä¿¡æ¯ï¼Œç›´æ¥å¤åˆ¶çš„.ibd æ–‡ä»¶å’Œ.frm æ–‡ä»¶æ¢å¤æ—¶æ˜¯ä¸èƒ½è¢«æ­£ç¡®è¯†åˆ«çš„ï¼Œä½†å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ï¼š</p><ul><li>ALTER TABLE tbl_name DISCARD TABLESPACE;</li><li>ALTER TABLE tbl_name IMPORT TABLESPACE;</li></ul></li></ul><h3 id="memory-å­˜å‚¨å¼•æ“" tabindex="-1"><a class="header-anchor" href="#memory-å­˜å‚¨å¼•æ“"><span>MEMORY å­˜å‚¨å¼•æ“</span></a></h3><ul><li>å­˜å‚¨å†å†…å­˜ä¸­,è™½ç„¶é€Ÿåº¦å¾ˆå¿«,ä½†æ˜¯ä¸€æ—¦æœåŠ¡å™¨é‡å¯,è¡¨æ•°æ®å°±ä¼šä¸¢å¤±.</li><li>é»˜è®¤æ”¯æŒ HASH ç´¢å¼•</li><li>åªæœ‰ä¸€ä¸ªç£ç›˜æ–‡ä»¶,æ ¼å¼ä¸º.frm</li><li>å¯åŠ¨ MYSQL æœåŠ¡æ—¶,ä½¿ç”¨--init-file é€‰é¡¹,æŠŠ INSERT INTO ... SELECT æˆ– LOAD DATA INFILE è¿™æ ·çš„è¯­å¥æ”¾å…¥è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå°±å¯ä»¥åœ¨æœåŠ¡å¯åŠ¨æ—¶ä»æŒä¹…ç¨³å›ºçš„æ•°æ®æºè£…è½½è¡¨</li><li>è¡¨çš„å¤§å°å— max_heap_table_size ç³»ç»Ÿå˜é‡çš„çº¦æŸï¼Œè¿™ä¸ªç³»ç»Ÿå˜é‡çš„åˆå§‹å€¼æ˜¯ 16MB.æ­¤å¤–ï¼Œåœ¨å®šä¹‰ MEMORY è¡¨çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡ MAX_ROWS å­å¥æŒ‡å®šè¡¨çš„æœ€å¤§è¡Œæ•°</li></ul><h3 id="merge-å­˜å‚¨å¼•æ“" tabindex="-1"><a class="header-anchor" href="#merge-å­˜å‚¨å¼•æ“"><span>MERGE å­˜å‚¨å¼•æ“</span></a></h3><ul><li>MERGE å­˜å‚¨å¼•æ“æ˜¯ä¸€ç»„ MyISAM è¡¨çš„ç»„åˆï¼Œè¿™äº› MyISAM è¡¨å¿…é¡»ç»“æ„å®Œå…¨ç›¸åŒï¼ŒMERGE è¡¨æœ¬èº«å¹¶æ²¡æœ‰æ•°æ®ï¼Œå¯¹ MERGE ç±»å‹çš„è¡¨å¯ä»¥è¿›è¡ŒæŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤çš„æ“ä½œï¼Œè¿™äº›æ“ä½œå®é™…ä¸Šæ˜¯å¯¹å†…éƒ¨çš„å®é™…çš„ MyISAM è¡¨è¿›è¡Œçš„ã€‚</li><li>MERGE ç±»å‹è¡¨çš„æ’å…¥æ“ä½œï¼Œæ˜¯é€šè¿‡</li></ul><p>INSERT_METHOD å­å¥å®šä¹‰æ’å…¥çš„è¡¨ï¼Œå¯ä»¥æœ‰ 3 ä¸ªä¸åŒçš„å€¼ï¼Œä½¿ç”¨ FIRST æˆ– LAST å€¼ä½¿å¾—æ’å…¥æ“ä½œè¢«ç›¸åº”åœ°ä½œç”¨åœ¨ç¬¬ä¸€æˆ–æœ€åä¸€ä¸ªè¡¨ä¸Šï¼Œä¸å®šä¹‰è¿™ä¸ªå­å¥æˆ–è€…å®šä¹‰ä¸º NOï¼Œè¡¨ç¤ºä¸èƒ½å¯¹è¿™ä¸ª MERGE è¡¨æ‰§è¡Œæ’å…¥æ“ä½œã€‚</p><ul><li>MERGE è¡¨åœ¨ç£ç›˜ä¸Šä¿ç•™ä¸¤ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åä»¥è¡¨çš„åå­—å¼€å§‹ï¼Œä¸€ä¸ª.frm æ–‡ä»¶å­˜å‚¨è¡¨å®šä¹‰ï¼Œå¦ä¸€ä¸ª.MRG æ–‡ä»¶åŒ…å«ç»„åˆè¡¨çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ MERGE è¡¨ç”±å“ªäº›è¡¨ç»„æˆã€æ’å…¥æ–°çš„æ•°æ®æ—¶çš„ä¾æ®ã€‚å¯ä»¥é€šè¿‡ä¿®æ”¹.MRG æ–‡ä»¶æ¥ä¿®æ”¹ MERGE è¡¨ï¼Œä½†æ˜¯ä¿®æ”¹åè¦é€šè¿‡ FLUSH TABLES åˆ·æ–°</li></ul><h3 id="å­˜å‚¨å¼•æ“çš„é€‰æ‹©" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨å¼•æ“çš„é€‰æ‹©"><span>å­˜å‚¨å¼•æ“çš„é€‰æ‹©</span></a></h3><table><thead><tr><th>å­˜å‚¨å¼•æ“</th><th>æƒ…å†µä¼˜é€‰</th></tr></thead><tbody><tr><td>MyISAM</td><td>é»˜è®¤çš„ MySQL æ’ä»¶å¼å­˜å‚¨å¼•æ“ã€‚å¦‚æœåº”ç”¨æ˜¯ä»¥è¯»æ“ä½œå’Œæ’å…¥æ“ä½œä¸ºä¸»ï¼Œåªæœ‰å¾ˆå°‘çš„æ›´æ–°å’Œåˆ æ“ä½œï¼Œå¹¶ä¸”å¯¹äº‹åŠ¡çš„å®Œæ•´æ€§ã€å¹¶å‘æ€§è¦æ±‚ä¸æ˜¯å¾ˆé«˜ï¼Œé‚£ä¹ˆé€‰æ‹©è¿™ä¸ªå­˜å‚¨å¼•æ“æ˜¯éå¸¸é€‚åˆçš„ã€‚MyISAM æ˜¯åœ¨ Webã€æ•°æ®ä»“å‚¨å’Œå…¶ä»–åº”ç”¨ç¯å¢ƒä¸‹æœ€å¸¸ä½¿ç”¨çš„å­˜å‚¨å¼•æ“ä¹‹ä¸€</td></tr><tr><td>InnoDB</td><td>ç”¨äºäº‹åŠ¡å¤„ç†åº”ç”¨ç¨‹åºï¼Œæ”¯æŒå¤–é”®ã€‚å¦‚æœåº”ç”¨å¯¹äº‹åŠ¡çš„å®Œæ•´æ€§æœ‰æ¯”è¾ƒé«˜çš„è¦æ±‚ï¼Œåœ¨å¹¶å‘æ¡ä»¶ä¸‹è¦æ±‚æ•°æ®çš„ä¸€è‡´æ€§ï¼Œæ•°æ®æ“ä½œé™¤äº†æ’å…¥å’ŒæŸ¥è¯¢ä»¥å¤–ï¼Œè¿˜åŒ…æ‹¬å¾ˆå¤šçš„æ›´æ–°ã€åˆ é™¤æ“ä½œï¼Œé‚£ä¹ˆ InnoDB å­˜å‚¨å¼•æ“åº”è¯¥æ˜¯æ¯”è¾ƒåˆé€‚çš„é€‰æ‹©ã€‚InnoDB å­˜å‚¨å¼•æ“é™¤äº†æœ‰æ•ˆåœ°é™ä½ç”±äºåˆ é™¤å’Œæ›´æ–°å¯¼è‡´çš„é”å®šï¼Œè¿˜å¯ä»¥ç¡®ä¿äº‹åŠ¡çš„å®Œæ•´æäº¤ï¼ˆCommitï¼‰å’Œå›æ»šï¼ˆRollbackï¼‰ï¼Œå¯¹äºç±»ä¼¼è®¡è´¹ç³»ç»Ÿæˆ–è€…è´¢åŠ¡ç³»ç»Ÿç­‰å¯¹æ•°æ®å‡†ç¡®æ€§è¦æ±‚æ¯”è¾ƒé«˜çš„ç³»ç»Ÿ</td></tr><tr><td>MEMORY</td><td>å°†æ‰€æœ‰æ•°æ®ä¿å­˜åœ¨ RAM ä¸­ï¼Œåœ¨éœ€è¦å¿«é€Ÿå®šä½è®°å½•å’Œå…¶ä»–ç±»ä¼¼æ•°æ®çš„ç¯å¢ƒä¸‹ï¼Œå¯æä¾›æå¿«çš„è®¿é—®ã€‚MEMORY çš„ç¼ºé™·æ˜¯å¯¹è¡¨çš„å¤§å°æœ‰é™åˆ¶ï¼Œå¤ªå¤§çš„è¡¨æ— æ³• CACHE åœ¨å†…å­˜ä¸­ï¼Œå…¶æ¬¡æ˜¯è¦ç¡®ä¿è¡¨çš„æ•°æ®å¯ä»¥æ¢å¤ï¼Œæ•°æ®åº“å¼‚å¸¸ç»ˆæ­¢åè¡¨ä¸­çš„æ•°æ®æ˜¯å¯ä»¥æ¢å¤çš„ã€‚MEMORY è¡¨é€šå¸¸ç”¨äºæ›´æ–°ä¸å¤ªé¢‘ç¹çš„å°è¡¨ï¼Œç”¨ä»¥å¿«é€Ÿå¾—åˆ°è®¿é—®ç»“æœ</td></tr><tr><td>MERGE</td><td>ç”¨äºå°†ä¸€ç³»åˆ—ç­‰åŒçš„ MyISAM è¡¨ä»¥é€»è¾‘æ–¹å¼ç»„åˆåœ¨ä¸€èµ·ï¼Œå¹¶ä½œä¸ºä¸€ä¸ªå¯¹è±¡å¼•ç”¨å®ƒä»¬ã€‚MERGE è¡¨çš„ä¼˜ç‚¹åœ¨äºå¯ä»¥çªç ´å¯¹å•ä¸ª MyISAM è¡¨å¤§å°çš„é™åˆ¶ï¼Œå¹¶ä¸”é€šè¿‡å°†ä¸åŒçš„è¡¨åˆ†å¸ƒåœ¨å¤šä¸ªç£ç›˜ä¸Šï¼Œå¯ä»¥æœ‰æ•ˆåœ°æ”¹å–„ MERGE è¡¨çš„è®¿é—®æ•ˆç‡ã€‚è¿™å¯¹äºè¯¸å¦‚æ•°æ®ä»“å‚¨ç­‰ VLDB ç¯å¢ƒååˆ†é€‚åˆ</td></tr></tbody></table><h2 id="è§¦å‘å™¨" tabindex="-1"><a class="header-anchor" href="#è§¦å‘å™¨"><span>è§¦å‘å™¨</span></a></h2><p>è§¦å‘å™¨ï¼šåœ¨æ‰§è¡Œä¸€äº›æ“ä½œæ—¶ä¼šè§¦å‘æ‰§è¡Œçš„ã€‚</p><h3 id="è§¦å‘å™¨åˆ›å»º" tabindex="-1"><a class="header-anchor" href="#è§¦å‘å™¨åˆ›å»º"><span>è§¦å‘å™¨åˆ›å»º</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TRIGGER</span> trigger_name trigger_time trigger_event
<span class="token keyword">ON</span> tbl_name <span class="token keyword">FOR EACH ROW</span> trigger_stmt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>trigger_time : è§¦å‘æ—¶é—´ï¼Œå¯ä»¥æ˜¯ BEFORE æˆ–è€… AFTER</li><li>trigger_event ï¼š è§¦å‘äº‹ä»¶ï¼Œå¯ä»¥æ˜¯ INSERTã€UPDATE æˆ–è€… DELETE</li></ul><p>ä¾‹ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TRIGGER</span> upd_film_bef
 BEFORE <span class="token keyword">update</span> <span class="token keyword">ON</span> film <span class="token keyword">FOR EACH ROW</span> <span class="token keyword">BEGIN</span>
 <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tri_demo <span class="token punctuation">(</span>note<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">&#39;before update&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">END</span><span class="token punctuation">;</span>
 $$
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åˆ é™¤è§¦å‘å™¨" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤è§¦å‘å™¨"><span>åˆ é™¤è§¦å‘å™¨</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TRIGGER</span> <span class="token punctuation">[</span>schema_name<span class="token punctuation">.</span><span class="token punctuation">]</span>trigger_name
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="æŸ¥çœ‹è§¦å‘å™¨" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹è§¦å‘å™¨"><span>æŸ¥çœ‹è§¦å‘å™¨</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">show</span> triggers \G
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨è§„åˆ™" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨è§„åˆ™"><span>ä½¿ç”¨è§„åˆ™</span></a></h3><p>è§¦å‘å™¨æ‰§è¡Œçš„è¯­å¥æœ‰ä»¥ä¸‹ä¸¤ä¸ªé™åˆ¶ï¼š</p><ul><li>è§¦å‘ç¨‹åºä¸èƒ½è°ƒç”¨å°†æ•°æ®è¿”å›å®¢æˆ·ç«¯çš„å­˜å‚¨ç¨‹åºï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨é‡‡ç”¨ CALL è¯­å¥çš„åŠ¨æ€ SQL è¯­å¥ï¼Œä½†æ˜¯å…è®¸å­˜å‚¨ç¨‹åºé€šè¿‡å‚æ•°å°†æ•°æ®è¿”å›è§¦å‘ç¨‹åºã€‚ä¹Ÿå°±æ˜¯å­˜å‚¨è¿‡ç¨‹æˆ–è€…å‡½æ•°é€šè¿‡ OUT æˆ–è€… INOUT ç±»å‹çš„å‚æ•°å°†æ•°æ®è¿”å›è§¦å‘å™¨æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä¸èƒ½è°ƒç”¨ç›´æ¥è¿”å›æ•°æ®çš„è¿‡ç¨‹ã€‚</li><li>ä¸èƒ½åœ¨è§¦å‘å™¨ä¸­ä½¿ç”¨ä»¥æ˜¾å¼æˆ–éšå¼æ–¹å¼å¼€å§‹æˆ–ç»“æŸäº‹åŠ¡çš„è¯­å¥ï¼Œå¦‚ START TRANSACTIONã€COMMIT æˆ– ROLLBACK</li></ul><h2 id="å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°"><span>å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°</span></a></h2><ul><li>å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°æ˜¯äº‹å…ˆç»è¿‡ç¼–è¯‘å¹¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ä¸€æ®µ SQL è¯­å¥çš„é›†åˆï¼Œè°ƒç”¨å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°å¯ä»¥ç®€åŒ–åº”ç”¨å¼€å‘äººå‘˜çš„å¾ˆå¤šå·¥ä½œï¼Œå‡å°‘æ•°æ®åœ¨æ•°æ®åº“å’Œåº”ç”¨æœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“ï¼Œå¯¹äºæé«˜æ•°æ®å¤„ç†çš„æ•ˆç‡æ˜¯æœ‰å¥½å¤„çš„</li><li>å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°çš„åŒºåˆ«åœ¨äºå‡½æ•°å¿…é¡»æœ‰è¿”å›å€¼ï¼Œè€Œå­˜å‚¨è¿‡ç¨‹æ²¡æœ‰ï¼Œå­˜å‚¨è¿‡ç¨‹çš„å‚æ•°å¯ä»¥ä½¿ç”¨ INã€OUTã€INOUT ç±»å‹ï¼Œè€Œå‡½æ•°çš„å‚æ•°åªèƒ½æ˜¯ IN ç±»å‹çš„ã€‚å¦‚æœæœ‰å‡½æ•°ä»å…¶ä»–ç±»å‹çš„æ•°æ®åº“è¿ç§»åˆ° MySQLï¼Œé‚£ä¹ˆå°±å¯èƒ½å› æ­¤éœ€è¦å°†å‡½æ•°æ”¹é€ æˆå­˜å‚¨è¿‡ç¨‹</li></ul><h3 id="å‡½æ•°-1" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°-1"><span>å‡½æ•°</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DEFINER</span><span class="token operator">=</span><span class="token identifier"><span class="token punctuation">`</span>root<span class="token punctuation">`</span></span><span class="token variable">@`localhost`</span> <span class="token keyword">FUNCTION</span> <span class="token identifier"><span class="token punctuation">`</span>function_update_sc<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
    <span class="token comment">#Routine body goes here...</span>
        <span class="token keyword">update</span>  teacher <span class="token keyword">set</span> Tname <span class="token operator">=</span> <span class="token string">&#39;100&#39;</span> <span class="token keyword">where</span> TId <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token keyword">RETURN</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">END</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å­˜å‚¨è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨è¿‡ç¨‹"><span>å­˜å‚¨è¿‡ç¨‹</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DEFINER</span><span class="token operator">=</span><span class="token identifier"><span class="token punctuation">`</span>root<span class="token punctuation">`</span></span><span class="token variable">@`localhost`</span> <span class="token keyword">FUNCTION</span> <span class="token identifier"><span class="token punctuation">`</span>function_update_sc<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
    <span class="token comment">#Routine body goes here...</span>
        <span class="token keyword">update</span>  teacher <span class="token keyword">set</span> Tname <span class="token operator">=</span> <span class="token string">&#39;100&#39;</span> <span class="token keyword">where</span> TId <span class="token operator">=</span> id<span class="token punctuation">;</span>
    <span class="token keyword">RETURN</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">END</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•"><span>ç´¢å¼•</span></a></h2><ul><li>MySQL åˆ—ç±»å‹éƒ½å¯ä»¥è¢«ç´¢å¼•ï¼Œå¯¹ç›¸å…³åˆ—ä½¿ç”¨ç´¢å¼•æ˜¯æé«˜ SELECT æ“ä½œæ€§èƒ½çš„æœ€ä½³é€”å¾„</li><li>æ ¹æ®å­˜å‚¨å¼•æ“å¯ä»¥å®šä¹‰æ¯ä¸ªè¡¨çš„æœ€å¤§ç´¢å¼•æ•°å’Œæœ€å¤§ç´¢å¼•é•¿åº¦ï¼Œæ¯ç§å­˜å‚¨å¼•æ“ï¼ˆå¦‚ MyISAMã€InnoDBã€BDBã€MEMORY ç­‰ï¼‰å¯¹æ¯ä¸ªè¡¨è‡³å°‘æ”¯æŒ 16 ä¸ªç´¢å¼•ï¼Œæ€»ç´¢å¼•é•¿åº¦è‡³å°‘ä¸º 256 å­—èŠ‚</li><li>MyISAM å’Œ InnoDB å­˜å‚¨å¼•æ“çš„è¡¨é»˜è®¤åˆ›å»ºçš„éƒ½æ˜¯ BTREE ç´¢å¼•</li><li>MySQL ç›®å‰è¿˜ä¸æ”¯æŒå‡½æ•°ç´¢å¼•ï¼Œä½†æ˜¯æ”¯æŒå‰ç¼€ç´¢å¼•ï¼Œå³å¯¹ç´¢å¼•å­—æ®µçš„å‰ N ä¸ªå­—ç¬¦åˆ›å»ºç´¢å¼•</li><li>å‰ç¼€ç´¢å¼•çš„é•¿åº¦è·Ÿå­˜å‚¨å¼•æ“ç›¸å…³ï¼Œå¯¹äº MyISAM å­˜å‚¨å¼•æ“çš„è¡¨ï¼Œç´¢å¼•çš„å‰ç¼€é•¿åº¦å¯ä»¥è¾¾åˆ° 1000 å­—èŠ‚é•¿ï¼Œè€Œå¯¹äº InnoDB å­˜å‚¨å¼•æ“çš„è¡¨ï¼Œç´¢å¼•çš„å‰ç¼€é•¿åº¦æœ€é•¿æ˜¯ 767 å­—èŠ‚</li><li>è¯·æ³¨æ„å‰ç¼€çš„é™åˆ¶åº”ä»¥å­—èŠ‚ä¸ºå•ä½è¿›è¡Œæµ‹é‡ï¼Œè€Œ CREATE TABLE è¯­å¥ä¸­çš„å‰ç¼€é•¿åº¦è§£é‡Šä¸ºå­—ç¬¦æ•°ã€‚åœ¨ä¸ºä½¿ç”¨å¤šå­—èŠ‚å­—ç¬¦é›†çš„åˆ—æŒ‡å®šå‰ç¼€é•¿åº¦æ—¶ä¸€å®šè¦åŠ ä»¥è€ƒè™‘</li><li>MySQL ä¸­è¿˜æ”¯æŒå…¨æ–‡æœ¬ï¼ˆFULLTEXTï¼‰ç´¢å¼•ï¼Œè¯¥ç´¢å¼•å¯ä»¥ç”¨äºå…¨æ–‡æœç´¢ã€‚ä½†æ˜¯å½“å‰æœ€æ–°ç‰ˆæœ¬ä¸­ï¼ˆ5.0ï¼‰åªæœ‰ MyISAM å­˜å‚¨å¼•æ“æ”¯æŒ FULLTEXT ç´¢å¼•ï¼Œå¹¶ä¸”åªé™äº CHARã€VARCHAR å’Œ TEXT åˆ—ã€‚ç´¢å¼•æ€»æ˜¯å¯¹æ•´ä¸ªåˆ—è¿›è¡Œçš„ï¼Œä¸æ”¯æŒå±€éƒ¨ï¼ˆå‰ç¼€ï¼‰ç´¢å¼•</li></ul><h3 id="åˆ›å»ºç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºç´¢å¼•"><span>åˆ›å»ºç´¢å¼•</span></a></h3><p>ç´¢å¼•ç±»å‹</p><ul><li>æ™®é€šç´¢å¼•ï¼šæœ€åŸºæœ¬çš„ç´¢å¼•ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶ï¼Œç”¨äºåŠ é€ŸæŸ¥è¯¢</li><li>å”¯ä¸€ç´¢å¼•ï¼šç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ï¼Œå¦‚æœæ˜¯ç»„åˆç´¢å¼•ï¼Œåˆ—ç»„åˆå¿…é¡»æ˜¯å”¯ä¸€çš„</li><li>ä¸»é”®ç´¢å¼•ï¼šæ˜¯ä¸€ç§ç‰¹æ®Šçš„ç´¢å¼•ï¼Œä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ï¼Œä¸å…è®¸æœ‰ç©ºå€¼ï¼Œä¸€èˆ¬åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™åˆ›å»º</li><li>ç»„åˆç´¢å¼•ï¼šæŒ‡å¤šä¸ªå­—æ®µä¸Šåˆ›å»ºçš„ç´¢å¼•ï¼Œåªæœ‰åœ¨æŸ¥è¯¢æ¡ä»¶ä¸­ä½¿ç”¨äº†åˆ›å»ºç´¢å¼•æ—¶çš„ç¬¬ä¸€ä¸ªå­—æ®µï¼Œç´¢å¼•æ‰ä¼šè¢«ä½¿ç”¨ã€‚ä½¿ç”¨ç»„åˆç´¢å¼•æ—¶éµå¾ªæœ€å·¦å‰ç¼€é›†åˆã€‚</li><li>å…¨æ–‡ç´¢å¼•ï¼šä¸»è¦ç”¨æ¥æŸ¥æ‰¾æ–‡æœ¬ä¸­çš„å…³é”®å­—ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¸ç´¢å¼•ä¸­çš„å€¼ç›¸æ¯”è¾ƒã€‚fulltext ç´¢å¼•é…åˆ match against æ“ä½œä½¿ç”¨ï¼Œè€Œä¸æ˜¯ä¸€èˆ¬çš„ where è¯­å¥åŠ  likeï¼Œå®ƒå¯ä»¥åœ¨ create tableï¼Œalter table ï¼Œcreate index ä½¿ç”¨ï¼Œä¸è¿‡ç›®å‰åªæœ‰ charã€varcharï¼Œtext åˆ—ä¸Šå¯ä»¥åˆ›å»ºå…¨æ–‡ç´¢å¼•ã€‚</li></ul><p>åˆ›å»ºè¡¨çš„æ—¶å€™å¯ä»¥åŒæ—¶åˆ›å»º</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token punctuation">[</span><span class="token keyword">UNIQUE</span><span class="token operator">|</span>FULLTEXT<span class="token operator">|</span>SPATIAL<span class="token punctuation">]</span> <span class="token keyword">INDEX</span> index_name
<span class="token punctuation">[</span><span class="token keyword">USING</span> index_type<span class="token punctuation">]</span>
<span class="token keyword">ON</span> tbl_name <span class="token punctuation">(</span>index_col_name<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
index_col_name:
col_name <span class="token punctuation">[</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">ASC</span> <span class="token operator">|</span> <span class="token keyword">DESC</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¢åŠ ç´¢å¼•</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token punctuation">[</span><span class="token keyword">UNIQUE</span><span class="token operator">|</span>FULLTEXT<span class="token operator">|</span>SPATIAL<span class="token punctuation">]</span> <span class="token keyword">index</span> cityname <span class="token keyword">on</span> city <span class="token punctuation">(</span>city<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ç´¢å¼•æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•æµ‹è¯•"><span>ç´¢å¼•æµ‹è¯•</span></a></h3><h3 id="è®¾è®¡ç´¢å¼•çš„åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#è®¾è®¡ç´¢å¼•çš„åŸåˆ™"><span>è®¾è®¡ç´¢å¼•çš„åŸåˆ™</span></a></h3><p>åˆ›å»ºç´¢å¼•çš„æ—¶å€™è¯·å°½é‡è€ƒè™‘ç¬¦åˆè¿™äº›åŸåˆ™ï¼Œä¾¿äºæå‡ç´¢å¼•çš„ä½¿ç”¨æ•ˆç‡ï¼Œæ›´é«˜æ•ˆåœ°ä½¿ç”¨ç´¢å¼•</p><ul><li>æœç´¢çš„ç´¢å¼•åˆ—ï¼Œä¸ä¸€å®šæ˜¯æ‰€è¦é€‰æ‹©çš„åˆ—ã€‚æ¢å¥è¯è¯´ï¼Œæœ€é€‚åˆç´¢å¼•çš„åˆ—æ˜¯å‡ºç°åœ¨ WHERE å­å¥ä¸­çš„åˆ—ï¼Œæˆ–è¿æ¥å­å¥ä¸­æŒ‡å®šçš„åˆ—ï¼Œè€Œä¸æ˜¯å‡ºç°åœ¨ SELECT å…³é”®å­—åçš„é€‰æ‹©åˆ—è¡¨ä¸­çš„åˆ—</li><li>ä½¿ç”¨æƒŸä¸€ç´¢å¼•ã€‚è€ƒè™‘æŸåˆ—ä¸­å€¼çš„åˆ†å¸ƒã€‚ç´¢å¼•çš„åˆ—çš„åŸºæ•°è¶Šå¤§ï¼Œç´¢å¼•çš„æ•ˆæœè¶Šå¥½ã€‚ä¾‹å¦‚ï¼Œå­˜æ”¾å‡ºç”Ÿæ—¥æœŸçš„åˆ—å…·æœ‰ä¸åŒå€¼ï¼Œå¾ˆå®¹æ˜“åŒºåˆ†å„è¡Œã€‚è€Œç”¨æ¥è®°å½•æ€§åˆ«çš„åˆ—ï¼Œåªå«æœ‰â€œ Mâ€å’Œâ€œFâ€ï¼Œåˆ™å¯¹æ­¤åˆ—è¿›è¡Œç´¢å¼•æ²¡æœ‰å¤šå¤§ç”¨å¤„ï¼Œå› ä¸ºä¸ç®¡æœç´¢å“ªä¸ªå€¼ï¼Œéƒ½ä¼šå¾—å‡ºå¤§çº¦ä¸€åŠçš„è¡Œ</li><li>ä½¿ç”¨çŸ­ç´¢å¼•ã€‚å¦‚æœå¯¹å­—ç¬¦ä¸²åˆ—è¿›è¡Œç´¢å¼•ï¼Œåº”è¯¥æŒ‡å®šä¸€ä¸ªå‰ç¼€é•¿åº¦ï¼Œåªè¦æœ‰å¯èƒ½å°±åº”è¯¥è¿™æ ·åšã€‚</li><li>åˆ©ç”¨æœ€å·¦å‰ç¼€ã€‚åœ¨åˆ›å»ºä¸€ä¸ª n åˆ—çš„ç´¢å¼•æ—¶ï¼Œå®é™…æ˜¯åˆ›å»ºäº† MySQL å¯åˆ©ç”¨çš„ n ä¸ªç´¢å¼•ã€‚å¤šåˆ—ç´¢å¼•å¯èµ·å‡ ä¸ªç´¢å¼•çš„ä½œç”¨ï¼Œå› ä¸ºå¯åˆ©ç”¨ç´¢å¼•ä¸­æœ€å·¦è¾¹çš„åˆ—é›†æ¥åŒ¹é…è¡Œã€‚è¿™æ ·çš„åˆ—é›†ç§°ä¸ºæœ€å·¦å‰ç¼€</li><li>ä¸è¦è¿‡åº¦ç´¢å¼•ã€‚æ¯ä¸ªé¢å¤–çš„ç´¢å¼•éƒ½è¦å ç”¨é¢å¤–çš„ç£ç›˜ç©ºé—´ï¼Œå¹¶é™ä½å†™æ“ä½œçš„æ€§èƒ½</li><li>å¯¹äº InnoDB å­˜å‚¨å¼•æ“çš„è¡¨ï¼Œè®°å½•é»˜è®¤ä¼šæŒ‰ç…§ä¸€å®šçš„é¡ºåºä¿å­˜ï¼Œå¦‚æœæœ‰æ˜ç¡®å®šä¹‰çš„ä¸»é”®ï¼Œåˆ™æŒ‰ç…§ä¸»é”®é¡ºåºä¿å­˜ã€‚å¦‚æœæ²¡æœ‰ä¸»é”®ï¼Œä½†æ˜¯æœ‰å”¯ä¸€ç´¢å¼•ï¼Œé‚£ä¹ˆå°±æ˜¯æŒ‰ç…§å”¯ä¸€ç´¢å¼•çš„é¡ºåºä¿å­˜ã€‚å¦‚æœæ—¢æ²¡æœ‰ä¸»é”®åˆæ²¡æœ‰å”¯ä¸€ç´¢å¼•ï¼Œé‚£ä¹ˆè¡¨ä¸­ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå†…éƒ¨åˆ—ï¼ŒæŒ‰ç…§è¿™ä¸ªåˆ—çš„é¡ºåºä¿å­˜ã€‚æŒ‰ç…§ä¸»é”®æˆ–è€…å†…éƒ¨åˆ—è¿›è¡Œçš„è®¿é—®æ˜¯æœ€å¿«çš„ï¼Œæ‰€ä»¥ InnoDB è¡¨å°½é‡è‡ªå·±æŒ‡å®šä¸»é”®ï¼Œå½“è¡¨ä¸­åŒæ—¶æœ‰å‡ ä¸ªåˆ—éƒ½æ˜¯å”¯ä¸€çš„ï¼Œéƒ½å¯ä»¥ä½œä¸ºä¸»é”®çš„æ—¶å€™ï¼Œè¦é€‰æ‹©æœ€å¸¸ä½œä¸ºè®¿é—®æ¡ä»¶çš„åˆ—ä½œä¸ºä¸»é”®ï¼Œæé«˜æŸ¥è¯¢çš„æ•ˆç‡ã€‚å¦å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„ï¼ŒInnoDB è¡¨çš„æ™®é€šç´¢å¼•éƒ½ä¼šä¿å­˜ä¸»é”®çš„é”®å€¼ï¼Œæ‰€ä»¥ä¸»é”®è¦å°½å¯èƒ½é€‰æ‹©è¾ƒçŸ­çš„æ•°æ®ç±»å‹</li></ul><h3 id="btree-ç´¢å¼•ä¸-hash-ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#btree-ç´¢å¼•ä¸-hash-ç´¢å¼•"><span>BTREE ç´¢å¼•ä¸ HASH ç´¢å¼•</span></a></h3><p>HASH ç´¢å¼•æœ‰ä¸€äº›é‡è¦çš„ç‰¹å¾éœ€è¦åœ¨ä½¿ç”¨çš„æ—¶å€™ç‰¹åˆ«æ³¨æ„</p><ul><li>åªç”¨äºä½¿ç”¨=æˆ–&lt;=&gt;æ“ä½œç¬¦çš„ç­‰å¼æ¯”è¾ƒ</li><li>ä¼˜åŒ–å™¨ä¸èƒ½ä½¿ç”¨ HASH ç´¢å¼•æ¥åŠ é€Ÿ ORDER BY æ“ä½œ</li><li>MySQL ä¸èƒ½ç¡®å®šåœ¨ä¸¤ä¸ªå€¼ä¹‹é—´å¤§çº¦æœ‰å¤šå°‘è¡Œã€‚å¦‚æœå°†ä¸€ä¸ª MyISAM è¡¨æ”¹ä¸º HASH ç´¢å¼•çš„ MEMORY è¡¨ï¼Œä¼šå½±å“ä¸€äº›æŸ¥è¯¢çš„æ‰§è¡Œæ•ˆç‡</li><li>åªèƒ½ä½¿ç”¨æ•´ä¸ªå…³é”®å­—æ¥æœç´¢ä¸€è¡Œ</li></ul><p>BTREE ç´¢å¼•</p><p>å½“ä½¿ç”¨&gt;ã€&lt;ã€&gt;=ã€&lt;=ã€BETWEENã€!=æˆ–è€…&lt;&gt;ï¼Œæˆ–è€… LIKE &#39;pattern&#39;ï¼ˆå…¶ä¸­&#39;pattern&#39;ä¸ä»¥é€šé…ç¬¦å¼€å§‹ï¼‰æ“ä½œç¬¦æ—¶ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ç›¸å…³åˆ—ä¸Šçš„ç´¢å¼•</p><h2 id="é”" tabindex="-1"><a class="header-anchor" href="#é”"><span>é”</span></a></h2><h3 id="ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ç±»å‹"><span>ç±»å‹</span></a></h3><table><thead><tr><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">ä¼˜ç‚¹</th><th style="text-align:left;">ç¼ºç‚¹</th><th style="text-align:left;">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td style="text-align:left;">è¡¨çº§é”</td><td style="text-align:left;">å¼€é”€å°ï¼ŒåŠ é”å¿«ï¼Œä¸ä¼šå‡ºç°æ­»é”</td><td style="text-align:left;">é”å®šç²’åº¦å¤§ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡é«˜ï¼Œå¹¶å‘åº¦æœ€ä½</td><td style="text-align:left;">é€‚ç”¨äºä»¥æŸ¥è¯¢ä¸ºä¸»ï¼Œåªæœ‰å°‘é‡æŒ‰ç´¢å¼•æ¡ä»¶æ›´æ–°æ•°æ®çš„åº”ç”¨</td></tr><tr><td style="text-align:left;">è¡Œçº§é”</td><td style="text-align:left;">é”å®šç²’åº¦å°ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€ä½ï¼Œå¹¶å‘åº¦ä¹Ÿé«˜</td><td style="text-align:left;">å¼€é”€å¤§ï¼ŒåŠ é”æ…¢ï¼Œä¼šå‡ºç°æ­»é”</td><td style="text-align:left;">é€‚åˆæœ‰å¤§é‡æŒ‰ç´¢å¼•æ¡ä»¶å¹¶å‘æ›´æ–°å°‘é‡ä¸åŒæ•°æ®ï¼ŒåŒæ—¶åˆæœ‰å¹¶å‘æŸ¥è¯¢çš„åº”ç”¨</td></tr><tr><td style="text-align:left;">é¡µé¢é”</td><td style="text-align:left;">å¼€é”€å’ŒåŠ é”æ—¶é—´ä»‹äºè¡¨çº§é”å’Œè¡Œçº§é”ä¹‹é—´</td><td style="text-align:left;">ä¼šå‡ºç°æ­»é”ï¼Œé”å®šç²’åº¦ä½äºè¡¨çº§é”å’Œè¡Œçº§é”ä¹‹é—´ï¼Œå¹¶å‘åº¦ä¸€èˆ¬</td><td style="text-align:left;"></td></tr></tbody></table><h3 id="myisam-è¡¨é”" tabindex="-1"><a class="header-anchor" href="#myisam-è¡¨é”"><span>MyISAM è¡¨é”</span></a></h3><ul><li>é€šè¿‡<code>show status like &#39;table%&#39;</code>è¿›è¡ŒæŸ¥çœ‹è¡¨çº§é”äº‰ç”¨æƒ…å†µï¼Œ<code>Table_locak_waited</code>çš„å€¼è¶Šé«˜ï¼Œäº‰ç”¨è¶Šä¸¥é‡</li><li>è¡¨çº§é”çš„ä¸¤ç§æ¨¡å¼ï¼šè¡¨å…±äº«è¯»é”å’Œè¡¨ç‹¬å å†™é”ã€‚</li><li>å½“å‰çº¿ç¨‹è·å¾—è¯»é”ï¼Œå…¶ä»–çº¿ç¨‹ä»ç„¶å¯ä»¥è¯»ï¼Œä½†æ˜¯ä¸å¯ä»¥å†™ã€‚è‹¥å½“å‰çº¿ç¨‹è·å¾—å†™é”ï¼Œå…¶ä»–ç”¨æˆ·ä¸èƒ½è¯»é”å’Œå†™é”ï¼Œåªæœ‰æŒæœ‰å†™é”çš„çº¿ç¨‹å¯ä»¥æ›´æ–°æ“ä½œã€‚</li><li>MyISAM åªèƒ½è®¿é—®æ˜¾ç¤ºåŠ é”çš„è¡¨ï¼Œä¸èƒ½èŒƒå›´æœªåŠ é”çš„è¡¨</li><li>MyISAM å¯ä»¥è®¾ç½®å­˜å‚¨å¼•æ“å¹¶å‘æ’å…¥å°† concurrent_insert è®¾ç½®æˆ 2ï¼ˆä¸ç®¡è¡¨ä¸­æœ‰æ²¡æœ‰åˆ é™¤è¡Œï¼‰ï¼Œéƒ½å¯ä»¥åœ¨åé¢æ·»åŠ æ•°æ®ï¼Œåªä¸è¿‡éœ€è¦å®šæ—¶çš„å»æ‰§è¡Œ OPTIMIZE TABLE è¯­å¥æ¥æ•´ç†ç©ºé—´ç¢ç‰‡ã€‚</li><li>MyISAM çš„é”è°ƒåº¦ï¼šå¦‚æœä¸€ä¸ªé˜Ÿåˆ—ï¼Œå…ˆè·å¾—è¯»é”ï¼Œä½†æ˜¯åä¸€ä¸ªé˜Ÿåˆ—éœ€è¦å†™é”ï¼Œä¹Ÿä¼šå…ˆè¿›è¡Œå†™é”ï¼ŒæŠŠè¯»é”æ”¾åˆ°åé¢ï¼Œå› ä¸º MySQL è®¤ä¸ºå†™æ“ä½œä¸€èˆ¬æ¯”è¯»æ“ä½œé‡è¦ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®ä¸€äº›å‚æ•°è¿›è¡Œä¿®æ”¹é”çš„è°ƒåº¦ - é€šè¿‡æŒ‡å®šå¯åŠ¨å‚æ•° low-priority-updatesï¼Œä½¿ MyISAM å¼•æ“é»˜è®¤ç»™äºˆè¯»è¯·æ±‚ä»¥ä¼˜å…ˆçš„æƒåˆ© - é€šè¿‡æ‰§è¡Œå‘½ä»¤ SET LOW_PRIORITY_UPDATES=1ï¼Œä½¿è¯¥è¿æ¥å‘å‡ºçš„æ›´æ–°è¯·æ±‚ä¼˜å…ˆçº§é™ä½ - é€šè¿‡æŒ‡å®š INSERTã€UPDATEã€DELETE è¯­å¥çš„ LOW_PRIORITY å±æ€§ï¼Œé™ä½è¯¥è¯­å¥çš„ä¼˜å…ˆçº§ - ç»™ç³»ç»Ÿå‚æ•° max_write_lock_count è®¾ç½®ä¸€ä¸ªåˆé€‚çš„å€¼ï¼Œå½“ä¸€ä¸ªè¡¨çš„è¯»é”è¾¾åˆ°è¿™ä¸ªå€¼åï¼ŒMySQL å°±æš‚æ—¶å°†å†™è¯·æ±‚çš„ä¼˜å…ˆçº§é™ä½ï¼Œç»™è¯»è¿›ç¨‹ä¸€å®šè·å¾—é”çš„æœºä¼š</li></ul><h3 id="innodb-é”" tabindex="-1"><a class="header-anchor" href="#innodb-é”"><span>InnoDB é”</span></a></h3><ul><li>InnoDB é”å’Œ MyISAM æœ‰ä»¥ä¸‹çš„ä¸åŒç‚¹ï¼š - æ”¯æŒäº‹åŠ¡ - é‡‡ç”¨çš„è¡Œçº§é”</li><li>äº‹åŠ¡çš„å››ä¸ªå±æ€§ï¼ˆACIDï¼‰ï¼š - åŸå­æ€§ï¼ˆAï¼‰ï¼šäº‹åŠ¡æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œè¦ä¹ˆå…¨æˆåŠŸï¼Œè¦ä¹ˆå…¨å¤±è´¥ - ä¸€è‡´æ€§ï¼ˆCï¼‰ï¼šåœ¨äº‹åŠ¡å¼€å§‹å’Œå®Œæˆæ—¶ï¼Œæ•°æ®éƒ½å¿…é¡»ä¿æŒä¸€è‡´çŠ¶æ€ã€‚ - éš”ç¦»æ€§ï¼ˆIï¼‰ ï¼šä¿è¯äº‹åŠ¡ä¸å—å¤–éƒ¨å¹¶å‘æ“ä½œå½±å“çš„â€œç‹¬ç«‹â€ç¯å¢ƒæ‰§è¡Œ - æŒä¹…æ€§ï¼ˆDï¼‰ï¼šå®Œæˆäº‹åŠ¡åï¼Œæ•°æ®ä¿®æ”¹æ˜¯æ°¸ä¹…æ€§çš„ã€‚</li><li>å¹¶å‘äº‹åŠ¡å¤„ç†å¸¦æ¥çš„é—®é¢˜ï¼š - æ›´æ–°ä¸¢å¤±ï¼šå½“ä¸¤ä¸ªäº‹åŠ¡åŒæ—¶ä¿®æ”¹ä¸€è¡Œï¼Œç”±äºå…¶ä»–äº‹ç‰©ä¸çŸ¥é“åˆ«çš„äº‹åŠ¡æ˜¯å¦åœ¨ä¿®æ”¹ï¼Œå¯¼è‡´æœ€åçš„æ›´æ–°è¦†ç›–äº†å…¶ä»–äº‹ç‰©æ‰€åšçš„æ›´æ–°ã€‚å¯é€šè¿‡å†™é”è¿›è¡Œè§£å†³ï¼Œåœ¨æ›´æ–°çš„æ—¶å€™è®©åˆ«çš„äº‹åŠ¡æ— æ³•æ›´æ–° - è„è¯»ï¼šä¸€ä¸ªäº‹åŠ¡æ­£åœ¨ä¿®æ”¹æ•°æ®ï¼Œåœ¨æäº¤å‰å¦ä¸€ä¸ªäº‹åŠ¡è¯»å–äº†æ•°æ®ï¼Œå¯¼è‡´æ•°æ®ä¸æ˜¯æœ€ç»ˆçš„æ•°æ®ã€‚ - ä¸å¯é‡å¤è¯»ï¼šä¸€ä¸ªäº‹åŠ¡åœ¨è¯»ä¹¦æŸæ•°æ®ä¸€æ®µæ—¶å€™åï¼Œå†æ¬¡è¯»å–æ•°æ®ï¼Œå´å‘ç°è¯»å‡ºçš„æ•°æ®å·²ç»å‘ç”Ÿæ”¹å˜ã€‚ - å¹»è¯»ï¼šä¸€ä¸ªäº‹åŠ¡æŒ‰ç›¸åŒçš„æŸ¥è¯¢æ¡ä»¶é‡æ–°è¯»å–ä»¥å‰æ£€ç´¢è¿‡çš„æ•°æ®ï¼Œå´å‘ç°å…¶ä»–äº‹ç‰©æ’å…¥äº†æ»¡è¶³å…¶æŸ¥è¯¢æ¡ä»¶çš„æ–°æ•°æ®ã€‚</li><li>äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼š - æ›´æ–°ä¸¢å¤±é—®é¢˜ï¼šéœ€è¦åœ¨åº”ç”¨ç«¯æ·»åŠ é”ï¼Œæ¥é˜²æ­¢æ›´æ–°ä¸¢å¤± - è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ï¼šéƒ½æ˜¯æ•°æ®åº“è¯»ä¸€è‡´æ€§é—®é¢˜ï¼Œé‡‡ç”¨æ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»æœºåˆ¶å®ç° - åœ¨è¯»æ•°æ®ä¹‹å‰åŠ é” - é€šè¿‡ä¸€å®šæœºåˆ¶ç”Ÿæˆä¸€è‡´æ€§æ•°æ®å¿«ç…§ï¼Œä»è€Œå®ç°è¯»ä¸€è‡´æ€§ - <img src="https://img-blog.csdnimg.cn/img_convert/ed8db85b70c443324b4647fbed9adedd.png#alt=" alt="" loading="lazy"></li><li>è¡Œé”æ¨¡å¼åŠåŠ é”æ–¹æ³• - å…±äº«é”ï¼šå…è®¸ä¸€ä¸ªäº‹åŠ¡å»è¯»ä¸€è¡Œï¼Œé˜»æ­¢å…¶ä»–äº‹åŠ¡è·å–ç›¸åŒæ•°æ®é›†çš„æ’ä»–é” - æ’ä»–é”ï¼šå…è®¸è·å¾—æ’ä»–é”çš„äº‹åŠ¡æ›´æ–°æ•°æ®ï¼Œé˜»æ­¢å…¶ä»–äº‹åŠ¡è·å–ç›¸åŒæ•°æ®é›†çš„å…±äº«è¯»é”å’Œæ’ä»–å†™é” - ä¸ºäº†å…è®¸è¡¨é”å’Œè¡Œé”çš„å…±å­˜ï¼Œå®ç°å¤šç²’åº¦é”æœºåˆ¶ï¼ŒInnoDB è¿˜æœ‰ä¸¤ç§å†…éƒ¨ä½¿ç”¨çš„æ„å‘é”ï¼Œéƒ½ä¸ºè¡¨é” - æ„å‘å…±äº«é”ï¼šäº‹åŠ¡æ‰“ç®—ç»™æ•°æ®è¡ŒåŠ èˆªå…±äº«é”ï¼Œäº‹åŠ¡åœ¨ç»™ä¸€ä¸ªæ•°æ®åŠ å…±äº«é”å‰å¿…é¡»å…ˆè·å¾—è¯¥è¡¨çš„æ„å‘å…±äº«é” - æ„å‘æ’ä»–é”ï¼šäº‹åŠ¡æ‰“ç®—ç»™æ•°æ®åŠ è¡Œæ’ä»–é”ï¼Œå¿…é¡»å…ˆè·å–è¯¥è¡¨çš„æ„å‘æ’ä»–é”</li></ul><h2 id="ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#ä¼˜åŒ–"><span>ä¼˜åŒ–</span></a></h2><h3 id="ä¼˜åŒ–-sql-çš„ä¸€èˆ¬æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#ä¼˜åŒ–-sql-çš„ä¸€èˆ¬æ­¥éª¤"><span>ä¼˜åŒ– SQL çš„ä¸€èˆ¬æ­¥éª¤</span></a></h3><p>å½“é‡åˆ°éœ€è¦ä¼˜åŒ–çš„ SQL æ—¶ï¼ŒæŒ‰ç…§æ­¥éª¤è¿›è¡Œä¼˜åŒ–ä»è€Œèƒ½æ›´å¿«çš„æ‰¾åˆ°é—®é¢˜çš„æ‰€åœ¨ã€‚</p><p>1.é€šè¿‡å‘½ä»¤äº†è§£å„ç§ SQL çš„æ‰§è¡Œé¢‘ç‡</p><ul><li>å®¢æˆ·ç«¯è¿æ¥ä¹‹åï¼Œé€šè¿‡ show [session|global]status å¯æŸ¥çœ‹å‘½ä»¤çš„æ‰§è¡Œæ¬¡æ•°ï¼Œé»˜è®¤ session</li><li>session:å½“å‰è¿æ¥</li><li>global: è‡ªæ•°æ®åº“å¯åŠ¨</li></ul><blockquote><p><code>show status &#39;Com_%&#39;;</code> &gt; <img src="https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvMjAyMDA1MDgxNjQwMjMucG5n?x-oss-process=image/format,png#alt=20200508164023.png" alt="" loading="lazy"></p></blockquote><p>Com_xxx è¡¨ç¤ºæ¯ä¸ª xxx è¯­å¥æ‰§è¡Œçš„æ¬¡æ•°</p><blockquote><ul><li>Com_select : æ‰§è¡Œ select æ“ä½œçš„æ¬¡æ•°ï¼Œä¸€æ¬¡æŸ¥è¯¢åªç´¯åŠ  1</li><li>Com_insert : æ‰§è¡Œ insert æ“ä½œçš„æ¬¡æ•°ï¼Œå¯¹äºæ‰¹é‡æ’å…¥çš„ insert æ“ä½œï¼Œåªç´¯åŠ ä¸€æ¬¡</li><li>Com_update : æ‰§è¡Œ update çš„æ“ä½œæ¬¡æ•°</li><li>Com_delete : æ‰§è¡Œ delete æ“ä½œçš„æ¬¡æ•°</li><li>innodb_rows_read : select æŸ¥è¯¢è¿”å›çš„è¡Œæ•°</li><li>innodb_rows_inserted : æ‰§è¡Œ insert æ“ä½œçš„è¡Œæ•°</li></ul></blockquote><p>2.å®šä½æ‰§è¡Œæ•ˆç‡è¾ƒä½çš„ SQL è¯­å¥</p><ul><li></li></ul><p>é€šè¿‡æ…¢æŸ¥è¯¢æ—¥å¿—å®šä½æŸ¥è¯¢æ…¢çš„ sql è¯­å¥ï¼Œä½¿ç”¨--log-slow-queries[=file_name]é€‰é¡¹å¯åŠ¨æ—¶ï¼Œmysqld å†™ä¸€ä¸ªåŒ…å«æ‰€æœ‰æ‰§è¡Œæ—¶é—´è¶…è¿‡ long_query_time å¦™çš„ SQL è¯­å¥çš„æ—¥å¿—æ–‡ä»¶</p><ul><li></li></ul><p>é€šè¿‡<code>show processlist</code>å‘½ä»¤æŸ¥çœ‹å½“å‰ MySQL åœ¨è¿›è¡Œçš„çº¿ç¨‹ï¼ŒåŒ…æ‹¬çº¿ç¨‹çš„çŠ¶æ€ï¼Œæ˜¯å¦é”è¡¨ç­‰ï¼Œå¯ä»¥å®æ—¶æŸ¥çœ‹ SQL çš„æ‰§è¡Œæƒ…å†µ</p><p>3.é€šè¿‡ EXPLAIN åˆ†æä½æ•ˆ SQL çš„æ‰§è¡Œè®¡åˆ’</p><p>å¯ä»¥é€šè¿‡ EXPLAIN æˆ–è€… DESC å‘½ä»¤è·å– MySQL å¦‚ä½•æ‰§è¡Œ SELECT è¯­å¥çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬åœ¨ SELECT è¯­å¥æ‰§è¡Œè¿‡ç¨‹ä¸­è¡¨å¦‚ä½•è¿æ¥å’Œè¿æ¥çš„é¡ºåºã€‚</p><ul><li></li></ul><p>æ¯”å¦‚æƒ³è®¡ç®— 2006 å¹´æ‰€æœ‰å…¬å¸çš„é”€å”®é¢ï¼Œéœ€è¦å…³è” sales è¡¨å’Œ company è¡¨ï¼Œå¹¶ä¸”å¯¹ moneys å­—æ®µåšæ±‚å’Œï¼ˆsumï¼‰æ“ä½œ</p><ul><li></li></ul><p><code>explain select sum(moneys) from sales a,company b where a.company_id = b.id and a.year= 2006\G;</code></p><ul><li></li></ul><figure><img src="https://imgconvert.csdnimg.cn/aHR0cDovL25vdGVib29rLnpoYW5namlhaGFvLnNpdGUvMjAyMDA1MDgyMjU5NTcucG5n?x-oss-process=image/format,png#alt=20200508225957.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li></li></ul><p>select_typeï¼šè¡¨ç¤º SELECT çš„ç±»å‹ï¼Œå¸¸è§çš„å–å€¼æœ‰ SIMPLEï¼ˆç®€å•è¡¨ï¼Œå³ä¸ä½¿ç”¨è¡¨è¿æ¥æˆ–è€…å­æŸ¥è¯¢ï¼‰ã€PRIMARYï¼ˆä¸»æŸ¥è¯¢ï¼Œå³å¤–å±‚çš„æŸ¥è¯¢ï¼‰ã€UNIONï¼ˆUNION ä¸­çš„ç¬¬äºŒä¸ªæˆ–è€…åé¢çš„æŸ¥è¯¢è¯­å¥ï¼‰ã€SUBQUERYï¼ˆå­æŸ¥è¯¢ä¸­çš„ç¬¬ä¸€ä¸ª SELECTï¼‰ç­‰ã€‚</p><ul><li></li></ul><p>tableï¼šè¾“å‡ºç»“æœé›†çš„è¡¨ã€‚</p><ul><li></li></ul><p>typeï¼šè¡¨ç¤ºè¡¨çš„è¿æ¥ç±»å‹ï¼Œæ€§èƒ½ç”±å¥½åˆ°å·®çš„è¿æ¥ç±»å‹ä¸º systemï¼ˆè¡¨ä¸­ä»…æœ‰ä¸€è¡Œï¼Œå³å¸¸é‡è¡¨ï¼‰ã€constï¼ˆå•è¡¨ä¸­æœ€å¤šæœ‰ä¸€ä¸ªåŒ¹é…è¡Œï¼Œä¾‹å¦‚ primary key æˆ–è€… unique indexï¼‰ã€eq_refï¼ˆå¯¹äºå‰é¢çš„æ¯ä¸€è¡Œï¼Œåœ¨æ­¤è¡¨ä¸­åªæŸ¥è¯¢ä¸€æ¡è®°å½•ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¤šè¡¨è¿æ¥ä¸­ä½¿ç”¨ primary key æˆ–è€… unique indexï¼‰ã€ ref ï¼ˆä¸ eq_ref ç±»ä¼¼ï¼Œ åŒºåˆ«åœ¨äºä¸æ˜¯ä½¿ç”¨ primarykey æˆ–è€… unique indexï¼Œè€Œæ˜¯ä½¿ç”¨æ™®é€šçš„ç´¢å¼•ï¼‰ã€ref_or_nullï¼ˆä¸ ref ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºæ¡ä»¶ä¸­åŒ…å«å¯¹ NULL çš„æŸ¥è¯¢ï¼‰ ã€index_merge(ç´¢å¼•åˆå¹¶ä¼˜åŒ–)ã€unique_subqueryï¼ˆin çš„åé¢æ˜¯ä¸€ä¸ªæŸ¥è¯¢ä¸»é”®å­—æ®µçš„å­æŸ¥è¯¢ï¼‰ã€ index_subquery ï¼ˆä¸ unique_subquery ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äº in çš„åé¢æ˜¯æŸ¥è¯¢éå”¯ä¸€ç´¢å¼•å­—æ®µçš„å­æŸ¥è¯¢ï¼‰ã€ range ï¼ˆå•è¡¨ä¸­çš„èŒƒå›´æŸ¥è¯¢ï¼‰ã€indexï¼ˆå¯¹äºå‰é¢çš„æ¯ä¸€è¡Œï¼Œéƒ½é€šè¿‡æŸ¥è¯¢ç´¢å¼•æ¥å¾—åˆ°æ•°æ®ï¼‰ã€allï¼ˆå¯¹äºå‰é¢çš„æ¯ä¸€è¡Œ,éƒ½é€šè¿‡å…¨è¡¨æ‰«ææ¥å¾—åˆ°æ•°æ®ï¼‰</p><ul><li></li></ul><p>possible_keysï¼šè¡¨ç¤ºæŸ¥è¯¢æ—¶ï¼Œå¯èƒ½ä½¿ç”¨çš„ç´¢å¼•</p><ul><li></li></ul><p>keyï¼šè¡¨ç¤ºå®é™…ä½¿ç”¨çš„ç´¢å¼•</p><ul><li></li></ul><p>key_lenï¼šç´¢å¼•å­—æ®µçš„é•¿åº¦</p><ul><li></li></ul><p>rowsï¼šæ‰«æè¡Œçš„æ•°é‡</p><ul><li></li></ul><p>Extraï¼šæ‰§è¡Œæƒ…å†µçš„è¯´æ˜å’Œæè¿°</p><p>4.ç¡®å®šé—®é¢˜å¹¶é‡‡å–ç›¸åº”çš„ä¼˜åŒ–æªæ–½</p><p>ä»¥ä¸ŠåŸºæœ¬å°±å¯ä»¥ç¡®è®¤é—®é¢˜å‡ºç°çš„åŸå› ã€‚æ­¤æ—¶ç”¨æˆ·å¯ä»¥æ ¹æ®æƒ…å†µé‡‡å–ç›¸åº”çš„æªæ–½ï¼Œè¿›è¡Œä¼˜åŒ–æé«˜æ‰§è¡Œçš„æ•ˆç‡</p><h3 id="ç´¢å¼•é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•é—®é¢˜"><span>ç´¢å¼•é—®é¢˜</span></a></h3><p>ç´¢å¼•æ˜¯æ•°æ®åº“ä¼˜åŒ–ä¸­æœ€å¸¸ç”¨ä¹Ÿæ˜¯æœ€é‡è¦çš„æ‰‹æ®µä¹‹ä¸€ï¼Œ é€šè¿‡ç´¢å¼•é€šå¸¸å¯ä»¥å¸®åŠ©ç”¨æˆ·è§£å†³å¤§å¤šæ•°çš„ SQL æ€§èƒ½é—®é¢˜</p><p>1.ç´¢å¼•çš„å­˜å‚¨åˆ†ç±»</p><p>2.å¦‚ä½•ä½¿ç”¨</p><p>3.ç´¢å¼•ä½¿ç”¨æƒ…å†µ</p><h3 id="ç®€å•çš„ä¼˜åŒ–æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ç®€å•çš„ä¼˜åŒ–æ–¹æ³•"><span>ç®€å•çš„ä¼˜åŒ–æ–¹æ³•</span></a></h3><p>1.å®šæœŸåˆ†æè¡¨å’Œæ£€æŸ¥è¡¨</p><p>2.å®šæœŸä¼˜åŒ–è¡¨</p><h3 id="å¸¸ç”¨-sql-çš„ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨-sql-çš„ä¼˜åŒ–"><span>å¸¸ç”¨ SQL çš„ä¼˜åŒ–</span></a></h3><p>1.å¤§æ‰¹é‡æ’å…¥æ•°æ®</p><p>2.ä¼˜åŒ– INSERT è¯­å¥</p><p>3.ä¼˜åŒ– GROUP BY è¯­å¥</p><p>4.ä¼˜åŒ– ORDER BY è¯­å¥</p><p>5.ä¼˜åŒ–åµŒå¥—æŸ¥è¯¢</p><p>6.å¦‚ä½•ä¼˜åŒ– OR</p></div><!--[--><!----><!--]--><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a href="https://github.com/961099916/961099916.github.io/edit/main/src/æ•°æ®åº“/mysql/mysql.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link vp-meta-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 961099916@qq.com">zhangjiahao</span><!--]--><!--]--></div></div></footer><!----><div id="vp-comment" class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><!--v-if--><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item1"><!--[--><div class="wl-header-item"><label for="wl-nick">æ˜µç§°</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="è¯·ç•™è¨€ã€‚(å¡«å†™é‚®ç®±å¯åœ¨è¢«å›å¤æ—¶æ”¶åˆ°é‚®ä»¶æé†’)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>é¢„è§ˆ:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="è¡¨æƒ…" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="è¡¨æƒ…åŒ…"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="ä¸Šä¼ å›¾ç‰‡"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="é¢„è§ˆ"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-captcha-container"></div><div class="wl-text-number">0 <!--v-if--> Â å­—</div><button type="button" class="wl-btn">ç™»å½•</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->æäº¤<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="æœç´¢è¡¨æƒ…åŒ…"><!--v-if--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> è¯„è®º</div><ul class="wl-sort"><!--[--><li class="active">æŒ‰æ­£åº</li><li class="">æŒ‰å€’åº</li><li class="">æŒ‰çƒ­åº¦</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v3.1.3</div></div></div><!--[--><!----><!--]--><!--]--></main><!--]--><!----></div><!--]--><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CVAlhocu.js" defer></script>
  </body>
</html>
